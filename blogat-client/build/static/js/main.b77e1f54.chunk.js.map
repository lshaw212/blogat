{"version":3,"sources":["images/layout1.jpg","images/layout2.jpg","images/layout3.jpg","images/layout4.jpg","store/actionTypes.js","store/reducers/currentUser.js","store/reducers/blogs.js","store/reducers/posts.js","store/reducers/index.js","store/reducers/errors.js","store/index.js","services/api.js","store/actions/errors.js","store/actions/auth.js","components/AuthForm.js","components/navbar/ProfileButton.js","components/navbar/SearchBox.js","components/navbar/FavouritesIcon.js","components/navbar/CollapseItems.js","components/navbar/LoginItems.js","containers/Navbar.js","components/Homepage.js","store/actions/posts.js","containers/EditPostForm.js","components/Post.js","containers/PostForm.js","store/actions/blogs.js","containers/EditBlogForm.js","components/Blog.js","containers/EditProfileForm.js","components/ProfileBlogs.js","components/Profile.js","containers/BlogForm.js","components/BlogCardFront.js","components/BlogCardBack.js","components/BlogItem.js","components/Loading.js","components/NoResult.js","containers/BlogList.js","components/AboutMe.js","containers/Main.js","components/Footer.js","hocs/ScrollToTop.js","containers/App.js","registerServiceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","SET_CURRENT_USER","UPDATE_USER","DEFAULT_STATE","isAuthenticated","user","showFavorites","blogs","state","arguments","length","undefined","action","type","Object","toConsumableArray","concat","blog","map","_id","id","filter","posts","post","rootReducer","combineReducers","currentUser","keys","objectSpread","profileImageUrl","data","favorites","boolean","errors","message","error","persistConfig","key","storage","persistReducer","apiCall","method","path","Promise","resolve","reject","axios","toLowerCase","then","res","catch","err","response","addError","removeError","setAuthorizationToken","token","defaults","headers","common","setTokenHeader","setCurrentUser","authUser","userData","console","log","dispatch","_ref","objectWithoutProperties","localStorage","setItem","favoriteBlog","blogId","getState","user_id","AuthForm","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleChange","e","setState","defineProperty","target","name","value","handleSubmit","preventDefault","authType","signUp","skip","email","username","passsword","social.twitter","social.linkedin","social.github","bio","_this$state","_this$props","buttonText","heading","login","history","register","handleClose","unListen","listen","react_default","a","createElement","className","onSubmit","onChange","placeholder","onClick","bind","Component","withRouter","connect","ProfileButton","userProfile","newBlog","logout","imageStyle","profileClicked","Dropdown","style","bsRole","Menu","padding","MenuItem","divider","defaultState","SearchBox","updateQueryParam","obj","push","search","qs","stringify","parse","location","replace","_this2","queryParamState","FormGroup","FormControl","FavouritesIcon","showFavourites","favorite","OverlayTrigger","placement","overlay","Tooltip","delayShow","CollapseItems","pathname","Navbar","Collapse","Nav","includes","navbar_SearchBox","navbar_FavouritesIcon","NavItem","LoginItems","handleLogin","handleSignup","handleRegister","modalShow","modalHide","signup","pullRight","Modal","bsSize","show","onHide","top","borderRadius","components_AuthForm","NavbarComponent","isDesktop","showFavs","handleLoginShow","assertThisInitialized","handleSignupShow","updatePredicate","window","addEventListener","removeEventListener","showFavoriteBlogs","innerWidth","fadedHeart","opacity","color","fullHeart","collapseOnSelect","Header","Brand","Link","to","Toggle","Form","display","alignItems","navbar_ProfileButton","backgroundImage","navbar_CollapseItems","navbar_LoginItems","clear","Homepage","timerText","spanText","Redirect","fetchPosts","updatePost","title","content","image","layout","blog_id","post_id","EditPostForm","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","imageChecker","postId","stop","_x","apply","str","val","htmlFor","require","checked","handleRadioButton","cols","rows","Button","marginLeft","Post","handleShow","date","updatedAt","isCorrectUser","removePost","dist_default","fromNow","handleClick","containers_EditPostForm","PostForm","createPost","validationState","getValidationTitleState","Feedback","fetchBlogs","messsage","deleteBlog","userId","EditBlogForm","updateBlog","desc","blogName","blogDescription","blogImage","getValidationNameState","getValidationDescState","Blog","editBlog","newPost","handleNewPostShow","handleEditBlogShow","stopPropagation","editPost","selectedB","find","match","params","blogPosts","components_Post","imageUrl","createdAt","format","containers_PostForm","assign","containers_EditBlogForm","EditProfileForm","profileImageChecker","twitterCheck","twitter","linkedinCheck","linkedin","githubCheck","github","updateUser","emailToggle","updateCurrentUserImage","updateProfile","_this3","InputGroup","Addon","defaultChecked","goBlog","ProfileBlogs","_ref3","favourites","Tab","Container","defaultActiveKey","Row","bsStyle","eventKey","Content","animation","Pane","b","ProfileBlogs_Blog","Profile","isLoading","userFavourites","loadUser","tooltip","containers_EditProfileForm","social","href","components_ProfileBlogs","BlogForm","createNewBlog","BlogCardFront","text","BlogCardBack","favToggle","profileImage","postCount","favCount","class","BlogItem","flippedProps","selectBlog","ref","removeBlog","components_BlogCardFront","components_BlogCardBack","Loading","NoResult","BlogList","blogList","_ref2","react_flip_toolkit_es","flipKey","components_NoResult","flipId","components_BlogItem","createAt","navigate","components_Loading","AboutMe","Switch","Route","exact","render","components_Homepage","component","onAuth","Footer","ScrollToTop","prevProps","scrollTo","children","store","createStore","compose","applyMiddleware","thunk","devToolsExtension","f","persistStore","jwtToken","jwtDecode","App","es","BrowserRouter","hocs_ScrollToTop","containers_Navbar","containers_Main","components_Footer","isLocalhost","Boolean","hostname","registerValidSW","swUrl","navigator","serviceWorker","registration","onupdatefound","installingWorker","installing","onstatechange","controller","ReactDOM","containers_App","document","getElementById","URL","process","origin","fetch","status","get","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"6EAAAA,EAAAC,QAAiBC,EAAAC,EAAuB,yDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,yDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,yDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,wNCA3BC,EAAmB,mBACnBC,EAAc,cCCrBC,EAAgB,CACpBC,iBAAiB,EACjBC,KAAM,GACNC,eAAe,WCiBFC,EApBD,WAAsB,IAArBC,EAAqBC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAf,GAAIG,EAAWH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAClC,OAAOC,EAAOC,MACZ,IFKsB,aEJpB,OAAOC,OAAAC,EAAA,EAAAD,CAAIF,EAAOL,OACpB,IFKuB,cEJrB,OAAOO,OAAAC,EAAA,EAAAD,CAAIN,GAAXQ,OAAA,CAAkBJ,EAAOK,OAC3B,IFIuB,cEHvB,OAAOT,EAAMU,IAAI,SAAAD,GAAI,OAClBA,EAAKE,MAAQP,EAAOQ,GACjBR,EAAOK,KACPA,IAEN,IFJuB,cEKrB,OAAOT,EAAMa,OAAO,SAAAJ,GAAI,OAAIA,EAAKE,MAAQP,EAAOQ,KAClD,QACE,OAAOZ,ICQEc,EAvBD,WAAsB,IAArBd,EAAqBC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAf,GAAIG,EAAWH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAElC,OAAOC,EAAOC,MACZ,IHSsB,aGRpB,OAAOC,OAAAC,EAAA,EAAAD,CAAIF,EAAOU,OACpB,IHUuB,cGRrB,OAAQV,EAAOW,MAAfP,OAAAF,OAAAC,EAAA,EAAAD,CAAwBN,IAC1B,IHQuB,cGPrB,OAAOA,EAAMU,IAAI,SAAAK,GAAI,OAClBA,EAAKJ,MAAQP,EAAOQ,GACjBR,EAAOW,KACPA,IAER,IHDuB,cGErB,OAAOf,EAAMa,OAAO,SAAAE,GAAI,OAAIA,EAAKJ,MAAQP,EAAOQ,KAClD,IHF4B,mBGI5B,QACE,OAAOZ,ICREgB,EAPKC,YAAgB,CAClCC,YHCa,WAAmC,IAAlClB,EAAkCC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA1BN,EAAeS,EAAWH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAChD,OAAOC,EAAOC,MACZ,KAAKZ,EACH,MAAO,CAELG,kBAAmBU,OAAOa,KAAKf,EAAOP,MAAMK,OAC5CL,KAAMO,EAAOP,KACbC,eAAe,GAEnB,KAAKJ,EACH,OAAOY,OAAAc,EAAA,EAAAd,CAAA,GAAIN,EAAX,CAAkBH,KAAKS,OAAAc,EAAA,EAAAd,CAAA,GAAIN,EAAMH,KAAX,CAAiBwB,gBAAiBjB,EAAOkB,SACjE,IDjByB,gBCmBvB,OAAOhB,OAAAc,EAAA,EAAAd,CAAA,GAAIN,EAAX,CAAkBH,KAAKS,OAAAc,EAAA,EAAAd,CAAA,GAAIN,EAAMH,KAAX,CAAiB0B,UAAUnB,EAAOK,SAC1D,IDlB+B,sBCmB7B,OAAOH,OAAAc,EAAA,EAAAd,CAAA,GAAIN,EAAX,CAAkBF,eAAeM,EAAOoB,UAC1C,QACE,OAAOxB,IGjBXyB,OCNF,WAAoD,IAApCzB,EAAoCC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA5B,CAACyB,QAAS,MAAOtB,EAAWH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAClD,OAAOC,EAAOC,MACZ,ILEqB,YKDnB,OAAOC,OAAAc,EAAA,EAAAd,CAAA,GAAIN,EAAX,CAAkB0B,QAAStB,EAAOuB,QACpC,ILCwB,eKAtB,OAAArB,OAAAc,EAAA,EAAAd,CAAA,GAAUN,EAAV,CAAiB0B,QAAQ,OAC3B,QACE,OAAO1B,IDAXD,QACAe,oCEHIc,EAAgB,CACpBC,IAAK,OACLC,kBAIuBC,YAAeH,EAAeZ,kGCHhD,SAASgB,EAAQC,EAAQC,EAAMZ,GACpC,OAAO,IAAIa,QAAQ,SAACC,EAASC,GAC3B,OAAOC,IAAML,EAAOM,eAAeL,EAAKZ,GACrCkB,KAAK,SAAAC,GACJ,OAAOL,EAAQK,EAAInB,QAEpBoB,MAAM,SAAAC,GACL,OAAON,EAAOM,EAAIC,SAAStB,KAAKK,WCfjC,IAAMkB,EAAW,SAAAlB,GAAK,MAAK,CAChCtB,KRGuB,YQFvBsB,UAGWmB,EAAc,iBAAO,CAChCzC,KRD0B,iBSHrB,SAAS0C,EAAsBC,IFF/B,SAAwBA,GAC1BA,EACDV,IAAMW,SAASC,QAAQC,OAAvB,wBAAA3C,OAA2DwC,UAEpDV,IAAMW,SAASC,QAAQC,OAAvB,cEDTC,CAAeJ,GAGV,SAASK,EAAexD,GAC7B,MAAO,CACLQ,KAAMZ,EACNI,QAkCG,SAASyD,EAASjD,EAAMkD,GAE7B,OADAC,QAAQC,IAAIF,GACL,SAAAG,GAEL,OAAO,IAAIvB,QAAQ,SAACC,EAASC,GAC3B,OAAOL,EAAQ,OAAD,aAAAxB,OAAsBH,GAAQkD,GACzCf,KAAK,SAAAmB,GAAsB,IAApBX,EAAoBW,EAApBX,MAAUnD,EAAUS,OAAAsD,EAAA,EAAAtD,CAAAqD,EAAA,WAC1BE,aAAaC,QAAQ,WAAYd,GACjCD,EAAsBC,GACtBU,EAASL,EAAexD,IACxB6D,EAASZ,KACTV,MAEDM,MAAM,SAAAC,GACLe,EAASb,EAASF,EAAIjB,UACtBW,SAMH,IAAM0B,EAAe,SAACC,GAAD,OAAY,SAACN,EAAUO,GAAa,IAExDC,EADgBD,IAAhB/C,YACsBrB,KAAKe,GACjC,OAAO,IAAIuB,QAAQ,SAACC,EAASC,GAC3B,OAAOL,EAAQ,MAAD,aAAAxB,OAAqB0D,EAArB,QAAoC,CAACF,WAChDxB,KAAK,SAAAC,GACJL,IACAsB,EAnDgC,CACtCrD,KTrB2B,gBSsB3BI,KAiD+BgC,MAE1BC,MAAM,SAAAC,GACLe,EAASb,EAASF,EAAIjB,UACtB8B,QAAQC,IAAId,GACZN,oCCrEF8B,cACJ,SAAAA,EAAYC,GAAM,IAAAC,EAAA,OAAA/D,OAAAgE,EAAA,EAAAhE,CAAAiE,KAAAJ,IAChBE,EAAA/D,OAAAkE,EAAA,EAAAlE,CAAAiE,KAAAjE,OAAAmE,EAAA,EAAAnE,CAAA6D,GAAAO,KAAAH,KAAMH,KAmBRO,aAAe,SAACC,GACdP,EAAKQ,SAALvE,OAAAwE,EAAA,EAAAxE,CAAA,GACGsE,EAAEG,OAAOC,KAAOJ,EAAEG,OAAOE,SAtBZZ,EA0BlBa,aAAe,SAAAN,GACbA,EAAEO,iBACF,IAAMC,EAAWf,EAAKD,MAAMiB,OAAS,SAAW,SAEhDhB,EAAKD,MACFd,SAAS8B,EAAUf,EAAKrE,OACxBwC,KAAK,WAIJgB,QAAQC,IAAI,mBACXf,MAAM,WACPc,QAAQC,IAAI,SAtCAY,EA2ClBiB,KAAO,SAAAV,GACLpB,QAAQC,IAAI,cA1CZY,EAAKrE,MAAM,CACTuF,MAAM,GACNC,SAAS,GACTC,UAAU,GACVpE,gBAAgB,kCAChBqE,iBAAkB,GAClBC,kBAAmB,GACnBC,gBAAiB,GACjBC,IAAK,IAVSxB,mFAiBhBE,KAAKH,MAAMtB,+CA8BL,IAAAgD,EACqBvB,KAAKvE,MAAxBuF,EADFO,EACEP,MAAOC,EADTM,EACSN,SADTO,EAE8FxB,KAAKH,MAAjG4B,EAFFD,EAEEC,WAAYC,EAFdF,EAEcE,QAASC,EAFvBH,EAEuBG,MAAOb,EAF9BU,EAE8BV,OAAQ5D,EAFtCsE,EAEsCtE,OAAQ0E,EAF9CJ,EAE8CI,QAASrD,EAFvDiD,EAEuDjD,YAA0BsD,GAFjFL,EAEoEM,YAFpEN,EAEiFK,UAEvF,GAAG3E,EAAOC,QACR,IAAM4E,EAAWH,EAAQI,OAAO,WAC9BzD,IACAwD,MAIJ,OACEE,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACbH,EAAAC,EAAAC,cAAA,OAAK9F,GAAG,oBAAoBqF,GAC5BO,EAAAC,EAAAC,cAAA,QAAME,SAAUrC,KAAKW,cAClBzD,EAAOC,SAAY8E,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBAAsBlF,EAAOC,SAC/D2D,GACCmB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACbH,EAAAC,EAAAC,cAAA,SAAOrG,KAAK,OAAOsG,UAAU,+BAA+B/F,GAAG,WAAWoE,KAAK,WAAW6B,SAAUtC,KAAKI,aAAcM,MAAOO,EAAUsB,YAAY,cAGxJN,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACbH,EAAAC,EAAAC,cAAA,SAAOrG,KAAK,OAAOsG,UAAU,+BAA+B/F,GAAG,QAAQoE,KAAK,QAAQ6B,SAAUtC,KAAKI,aAAcM,MAAOM,EAAOuB,YAAY,mBAE7IN,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACbH,EAAAC,EAAAC,cAAA,SAAOrG,KAAK,WAAWsG,UAAU,+BAA+B/F,GAAG,WAAWoE,KAAK,WAAW6B,SAAUtC,KAAKI,aAAcmC,YAAY,cAEzIN,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,UAAQC,UAAU,gDACfX,KAINE,GACCM,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACbH,EAAAC,EAAAC,cAAA,+BACAF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wBAAwBI,QAASX,GAAhD,cAGHf,GACCmB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACbH,EAAAC,EAAAC,cAAA,wCACAF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wBAAwBI,QAASxC,KAAKe,KAAK0B,KAAKzC,OAA/D,sBA3FW0C,aA0GRC,kBAAWC,YAP1B,SAAyBnH,GACvB,MAAM,CACJuB,UAAWvB,EAAMkB,YAAYK,WAAa,GAC1CE,OAAQzB,EAAMyB,SAIiC,CAAC6B,WAAUR,eAApCqE,CAAkDhD,sBCnG7DiD,EAbO,SAAAzD,GAAA,IAAE0D,EAAF1D,EAAE0D,YAAaC,EAAf3D,EAAe2D,QAASC,EAAxB5D,EAAwB4D,OAAQC,EAAhC7D,EAAgC6D,WAAYC,EAA5C9D,EAA4C8D,eAA5C,OAElBjB,EAAAC,EAAAC,cAACgB,EAAA,EAAD,CAAU9G,GAAG,wBACX4F,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBAAiBgB,MAAOH,EAAYT,QAASU,EAAgBG,OAAO,WACnFpB,EAAAC,EAAAC,cAACgB,EAAA,EAASG,KAAV,CAAelB,UAAU,gBAAgBiB,OAAO,OAAOD,MAAO,CAACG,QAAS,KACtEtB,EAAAC,EAAAC,cAACqB,EAAA,EAAD,CAAUhB,QAASM,GAAab,EAAAC,EAAAC,cAAA,KAAGC,UAAU,gBAA7C,YACAH,EAAAC,EAAAC,cAACqB,EAAA,EAAD,CAAUhB,QAASO,GAASd,EAAAC,EAAAC,cAAA,KAAGC,UAAU,qBAAzC,aACAH,EAAAC,EAAAC,cAACqB,EAAA,EAAD,CAAUC,SAAO,IACjBxB,EAAAC,EAAAC,cAACqB,EAAA,EAAD,CAAUhB,QAASQ,GAAQf,EAAAC,EAAAC,cAAA,KAAGC,UAAU,wBAAxC,0DCNFsB,EAAe,CACnBpH,OAAQ,IAGJqH,8MAEJC,iBAAmB,SAAAC,GACjB/D,EAAKD,MAAM+B,QAAQkC,KAAK,CACtBC,OAAM,IAAA9H,OAAM+H,IAAGC,UAAHlI,OAAAc,EAAA,EAAAd,CAAA,GACPiI,IAAGE,MAAMpE,EAAKD,MAAMsE,SAASJ,OAAOK,QAAQ,IAAK,KACjDP,gFAKD,IAAAQ,EAAArE,KAEAsE,EAAevI,OAAAc,EAAA,EAAAd,CAAA,GAChB2H,EACAM,IAAGE,MAAMlE,KAAKH,MAAMsE,SAASJ,OAAOK,QAAQ,IAAK,MAEtD,OAEInC,EAAAC,EAAAC,cAACoC,EAAA,EAAD,KACEtC,EAAAC,EAAAC,cAACqC,EAAA,EAAD,CAAa1I,KAAK,OAAOyG,YAAY,iBAAiB7B,MAAO4D,EAAgBhI,OAAQgG,SAAU,SAAAjC,GAAC,OAAIgE,EAAKT,iBAAiB,CAAEtH,OAAQ+D,EAAEG,OAAOE,mBApB/HgC,aA4BTC,eAAWgB,wBC5BXc,GANQ,SAAArF,GAAA,IAAEsF,EAAFtF,EAAEsF,eAAgBC,EAAlBvF,EAAkBuF,SAAlB,OACrB1C,EAAAC,EAAAC,cAACyC,GAAA,EAAD,CAAgBC,UAAU,QAAQC,QAAS7C,EAAAC,EAAAC,cAAC4C,GAAA,EAAD,+BAA2CC,UAAW,KAC/F/C,EAAAC,EAAAC,cAAA,KAAGC,UAAU,kCAAkCI,QAASkC,EAAgBtB,MAAOuB,MCyBpEM,GAzBO,SAAA7F,GAAA,IAAE0D,EAAF1D,EAAE0D,YAAaC,EAAf3D,EAAe2D,QAASC,EAAxB5D,EAAwB4D,OAAQkC,EAAhC9F,EAAgC8F,SAAUR,EAA1CtF,EAA0CsF,eAAgBC,EAA1DvF,EAA0DuF,SAA1D,OACpB1C,EAAAC,EAAAC,cAACgD,EAAA,EAAOC,SAAR,KACEnD,EAAAC,EAAAC,cAACkD,EAAA,EAAD,KACEH,EAASI,SAAS,UAClBrD,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACoD,GAAD,MACAtD,EAAAC,EAAAC,cAACqD,GAAD,CACEd,eAAgBA,EAChBC,SAAUA,KAId1C,EAAAC,EAAAC,cAACsD,EAAA,EAAD,CAASjD,QAASM,GAAlB,WAGAb,EAAAC,EAAAC,cAACsD,EAAA,EAAD,CAASjD,QAASO,GAAlB,YAGAd,EAAAC,EAAAC,cAACsD,EAAA,EAAD,CAASjD,QAASQ,GAAlB,uBCQS0C,GA3BI,SAAAtG,GAAA,IAAEuG,EAAFvG,EAAEuG,YAAaC,EAAfxG,EAAewG,aAAcC,EAA7BzG,EAA6ByG,eAAgBC,EAA7C1G,EAA6C0G,UAAWC,EAAxD3G,EAAwD2G,UAAWpE,EAAnEvC,EAAmEuC,MAAOqE,EAA1E5G,EAA0E4G,OAA1E,OACjB/D,EAAAC,EAAAC,cAACgD,EAAA,EAAOC,SAAR,KACEnD,EAAAC,EAAAC,cAACkD,EAAA,EAAD,CAAKY,WAAS,EAAC7D,UAAU,kBACvBH,EAAAC,EAAAC,cAACsD,EAAA,EAAD,CAASjD,QAASmD,EAAavD,UAAU,eAAzC,UACAH,EAAAC,EAAAC,cAACsD,EAAA,EAAD,CAASjD,QAASoD,EAAcxD,UAAU,eAA1C,WACAH,EAAAC,EAAAC,cAAC+D,GAAA,EAAD,CAAOC,OAAO,QAAQC,KAAMN,EAAWO,OAAQN,EAAW3C,MAAO,CAACkD,IAAK,MAAOC,aAAc,mBACzF5E,GACCM,EAAAC,EAAAC,cAACqE,EAAD,CACE/E,WAAW,SACXC,QAAQ,gBACRC,OAAK,EACLE,SAAUgE,IAGbG,GACC/D,EAAAC,EAAAC,cAACqE,EAAD,CACE/E,WAAW,cACXC,QAAQ,oBACRZ,QAAM,QCTZ2F,eAEJ,SAAAA,EAAY5G,GAAM,IAAAC,EAAA,OAAA/D,OAAAgE,EAAA,EAAAhE,CAAAiE,KAAAyG,IAChB3G,EAAA/D,OAAAkE,EAAA,EAAAlE,CAAAiE,KAAAjE,OAAAmE,EAAA,EAAAnE,CAAA0K,GAAAtG,KAAAH,KAAMH,KA4CRmD,OAAS,SAAA3C,GACPA,EAAEO,iBACFd,EAAKD,MAAMmD,UA/CKlD,EAiDlBoD,eAAiB,SAAA7C,GACfA,EAAEO,kBAhDFd,EAAKrE,MAAM,CACT2K,MAAM,EACNzE,OAAO,EACPqE,QAAQ,EACRU,WAAW,EACXC,UAAU,GAEZ7G,EAAK8G,gBAAkB9G,EAAK8G,gBAAgBnE,KAArB1G,OAAA8K,EAAA,EAAA9K,QAAA8K,EAAA,EAAA9K,CAAA+D,KACvBA,EAAKgH,iBAAmBhH,EAAKgH,iBAAiBrE,KAAtB1G,OAAA8K,EAAA,EAAA9K,QAAA8K,EAAA,EAAA9K,CAAA+D,KACxBA,EAAKgC,YAAchC,EAAKgC,YAAYW,KAAjB1G,OAAA8K,EAAA,EAAA9K,QAAA8K,EAAA,EAAA9K,CAAA+D,KACnBA,EAAK+F,eAAiB/F,EAAK+F,eAAepD,KAApB1G,OAAA8K,EAAA,EAAA9K,QAAA8K,EAAA,EAAA9K,CAAA+D,KACtBA,EAAKiH,gBAAkBjH,EAAKiH,gBAAgBtE,KAArB1G,OAAA8K,EAAA,EAAA9K,QAAA8K,EAAA,EAAA9K,CAAA+D,KAbPA,mFAiBhBE,KAAK+G,kBACLC,OAAOC,iBAAiB,SAAUjH,KAAK+G,gEAIvCC,OAAOE,oBAAoB,SAAUlH,KAAK+G,uDAI1C/G,KAAKM,SAAS,CAAE8F,MAAM,EAAOzE,OAAO,EAAOqE,QAAQ,8CAInDhG,KAAKM,SAAS,CAAE8F,MAAM,EAAMzE,OAAO,+CAGnC3B,KAAKM,SAAS,CAAE8F,MAAM,EAAMJ,QAAQ,6CAGpChG,KAAK8B,cACL9B,KAAK8G,4DAIL9G,KAAKM,SAAS,CAACqG,UAAW3G,KAAKvE,MAAMkL,WACrC3G,KAAKH,MAAMsH,kBAAkBnH,KAAKH,MAAMlD,YAAYpB,mDAU1Cc,EAAIgE,GACdL,KAAKH,MAAM+B,QAAQkC,KAAK,CACtBoB,SAAQ,SAAAjJ,OAAUI,GAClBZ,MAAO,CAACY,GAAIA,qCAGRA,EAAIgE,GACVL,KAAKH,MAAM+B,QAAQkC,KAAK,CACtBoB,SAAQ,UAAAjJ,OAAWI,EAAX,yDAKV2D,KAAKM,SAAS,CAAEoG,UAAWM,OAAOI,WAAa,uCAIzC,IAAA7F,EAC6CvB,KAAKvE,MAAjDiL,EADDnF,EACCmF,UAAWN,EADZ7E,EACY6E,KAAMzE,EADlBJ,EACkBI,MAAOqE,EADzBzE,EACyByE,OAAQW,EADjCpF,EACiCoF,SACjCzB,EAAYlF,KAAKH,MAAM+B,QAAQuC,SAASe,SACxCmC,EAAa,CAAEC,QAAS,OAAOC,MAAM,SACrCC,EAAY,CAAEF,QAAS,OAAOC,MAAM,SAE1C,OACEtF,EAAAC,EAAAC,cAACgD,EAAA,EAAD,CAAQsC,kBAAgB,GACtBxF,EAAAC,EAAAC,cAACgD,EAAA,EAAOuC,OAAR,KACEzF,EAAAC,EAAAC,cAACgD,EAAA,EAAOwC,MAAR,KACE1F,EAAAC,EAAAC,cAACyF,EAAA,EAAD,CAAMC,GAAG,IAAIxL,GAAG,gBAAhB,UAIF4F,EAAAC,EAAAC,cAACgD,EAAA,EAAO2C,OAAR,OAEApB,GACAzE,EAAAC,EAAAC,cAACkD,EAAA,EAAD,KACEpD,EAAAC,EAAAC,cAACgD,EAAA,EAAO4C,KAAR,KACI7C,EAASI,SAAS,UAClBrD,EAAAC,EAAAC,cAAA,OAAKiB,MAAO,CAAC4E,QAAQ,OAAQC,WAAW,WACtChG,EAAAC,EAAAC,cAACoD,GAAD,MACAtD,EAAAC,EAAAC,cAACqD,GAAD,CACEd,eAAgB1E,KAAK0E,eAAejC,KAAKzC,MACzC2E,SAAUgC,EAAWa,EAAYH,OAS5CrH,KAAKH,MAAMlD,YAAYtB,gBACtB4G,EAAAC,EAAAC,cAACkD,EAAA,EAAD,CAAKY,WAAS,EAAC7D,UAAU,kBACtBsE,EACGzE,EAAAC,EAAAC,cAAC+F,EAAD,CACEjF,WAAY,CAACkF,gBAAe,OAAAlM,OAAS+D,KAAKH,MAAMlD,YAAYrB,KAAKwB,gBAArC,MAC5BoG,eAAgBlD,KAAKkD,eAAeT,KAAKzC,MACzC8C,YAAa9C,KAAK8C,YAAYL,KAAKzC,KAAMA,KAAKH,MAAMlD,YAAYrB,KAAKe,IACrE0G,QAAS/C,KAAK+C,QAAQN,KAAKzC,KAAMA,KAAKH,MAAMlD,YAAYrB,KAAKe,IAC7D2G,OAAQhD,KAAKgD,OAAOP,KAAKzC,QAG3BiC,EAAAC,EAAAC,cAACiG,GAAD,CACElD,SAAUA,EACVR,eAAgB1E,KAAK0E,eAAejC,KAAKzC,MACzC2E,SAAUgC,EAAWa,EAAYH,EACjCvE,YAAa9C,KAAK8C,YAAYL,KAAKzC,KAAMA,KAAKH,MAAMlD,YAAYrB,KAAKe,IACrE0G,QAAS/C,KAAK+C,QAAQN,KAAKzC,KAAMA,KAAKH,MAAMlD,YAAYrB,KAAKe,IAC7D2G,OAAQhD,KAAKgD,OAAOP,KAAKzC,SAKjCiC,EAAAC,EAAAC,cAACkG,GAAD,CACE1C,YAAa3F,KAAK4G,gBAClBhB,aAAc5F,KAAK8G,iBACnBjB,eAAgB7F,KAAK6F,eACrBC,UAAWM,EACXL,UAAW/F,KAAK8B,YAChBH,MAAOA,EACPqE,OAAQA,YArIUtD,aAmJfC,mBAAWC,YAN1B,SAAyBnH,GACvB,MAAO,CACLkB,YAAalB,EAAMkB,cAI2B,CAAEqG,OP3H7C,WACL,OAAO,SAAA7D,GACLG,aAAagJ,QACb9J,GAAsB,GACtBW,EAASL,EAAe,OOuHgCqI,kBPhI3B,SAAAlK,GAAO,MAAK,CAC3CnB,KT7BiC,sBS8BjCmB,aO8HwB2F,CAAuD6D,mCC3DlE8B,eA/Fb,SAAAA,EAAY1I,GAAM,IAAAC,EAAA,OAAA/D,OAAAgE,EAAA,EAAAhE,CAAAiE,KAAAuI,IAChBzI,EAAA/D,OAAAkE,EAAA,EAAAlE,CAAAiE,KAAAjE,OAAAmE,EAAA,EAAAnE,CAAAwM,GAAApI,KAAAH,KAAMH,KACDpE,MAAM,CACT2K,MAAM,EACNzE,OAAO,EACPqE,QAAQ,EACRwC,UAAW,EACXC,SAAU,eAEZ3I,EAAK8G,gBAAkB9G,EAAK8G,gBAAgBnE,KAArB1G,OAAA8K,EAAA,EAAA9K,QAAA8K,EAAA,EAAA9K,CAAA+D,KACvBA,EAAKgH,iBAAmBhH,EAAKgH,iBAAiBrE,KAAtB1G,OAAA8K,EAAA,EAAA9K,QAAA8K,EAAA,EAAA9K,CAAA+D,KACxBA,EAAKgC,YAAchC,EAAKgC,YAAYW,KAAjB1G,OAAA8K,EAAA,EAAA9K,QAAA8K,EAAA,EAAA9K,CAAA+D,KACnBA,EAAK+F,eAAiB/F,EAAK+F,eAAepD,KAApB1G,OAAA8K,EAAA,EAAA9K,QAAA8K,EAAA,EAAA9K,CAAA+D,KAZNA,6EAehBE,KAAKM,SAAS,CAAE8F,MAAM,EAAOzE,OAAO,EAAOqE,QAAQ,8CAInDhG,KAAKM,SAAS,CAAE8F,MAAM,EAAMzE,OAAO,+CAGnC3B,KAAKM,SAAS,CAAE8F,MAAM,EAAMJ,QAAQ,6CAGpChG,KAAK8B,cACL9B,KAAK8G,oDAML,OAFwB9G,KAAKH,MAArBlD,YAEQtB,gBAsDd4G,EAAAC,EAAAC,cAAA,WAEEF,EAAAC,EAAAC,cAACuG,GAAA,EAAD,CAAUb,GAAG,YAtDb5F,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACbH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,kBACZH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,cACJF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,cACJF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,cACJF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,cACJF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,cACJF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,eAENF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACbH,EAAAC,EAAAC,cAAA,KAAG9F,GAAG,aAAN,SACA4F,EAAAC,EAAAC,cAAA,KAAGC,UAAU,YAAb,yEACAH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,YAAb,mCACEH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBACbH,EAAAC,EAAAC,cAAA,yBACAF,EAAAC,EAAAC,cAAA,0BACAF,EAAAC,EAAAC,cAAA,0BACAF,EAAAC,EAAAC,cAAA,qBACAF,EAAAC,EAAAC,cAAA,uBACAF,EAAAC,EAAAC,cAAA,sBAGJF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACbH,EAAAC,EAAAC,cAAA,UAAQK,QAASxC,KAAK4G,gBAAiBxE,UAAU,WAAjD,UACAH,EAAAC,EAAAC,cAAA,UAAQK,QAASxC,KAAK8G,iBAAkB1E,UAAU,WAAlD,WACAH,EAAAC,EAAAC,cAAC+D,GAAA,EAAD,CAAOC,OAAO,QAAQC,KAAMpG,KAAKvE,MAAM2K,KAAMC,OAAQrG,KAAK8B,YAAasB,MAAO,CAACkD,IAAK,MAAOC,aAAc,mBACtGvG,KAAKvE,MAAMkG,OACVM,EAAAC,EAAAC,cAACqE,EAAD,CACE/E,WAAW,SACXC,QAAQ,gBACRC,OAAK,EACLE,SAAU7B,KAAK6F,iBAIlB7F,KAAKvE,MAAMuK,QACV/D,EAAAC,EAAAC,cAACqE,EAAD,CACE/E,WAAW,cACXC,QAAQ,oBACRZ,QAAM,eA1EH4B,8DCyBViG,GAAa,WACxB,OAAO,SAAAxJ,GACL,OAAO1B,EAAQ,MAAO,cACnBQ,KAAK,SAAAC,GACJiB,EA9B2B,CACjCrD,KlBSwB,akBRxBS,MA4ByB2B,MAEpBC,MAAM,SAAAC,GACLe,EAASb,EAASF,EAAIjB,cAsCjByL,GAAa,SAACC,EAAOC,EAASC,EAAOC,EAAQC,EAASC,GAAzC,OAAqD,SAAC/J,EAAUO,GAAa,IAE/FrD,EADcqD,IAAf/C,YACkBrB,KAAKe,GAC5B,OAAO,IAAIuB,QAAQ,SAACC,EAASC,GAC3B,OAAOL,EAAQ,MAAD,cAAAxB,OAAsBI,EAAtB,WAAAJ,OAAkCgN,EAAlC,WAAAhN,OAAmDiN,GAAW,CAACL,QAAOC,UAASC,QAAOC,WACjG/K,KAAK,SAAAC,GACJL,IACAsB,EA1D6B,CACnCrD,KlBPyB,ckBQzBU,KAwDsB0B,EAvDtB7B,GAuD2B6M,MAEtB/K,MAAM,SAAAC,GACLe,EAASb,EAASF,EAAIjB,UACtBW,oBChFFqL,eACJ,SAAAA,EAAYtJ,GAAM,IAAAC,EAAA,OAAA/D,OAAAgE,EAAA,EAAAhE,CAAAiE,KAAAmJ,IAChBrJ,EAAA/D,OAAAkE,EAAA,EAAAlE,CAAAiE,KAAAjE,OAAAmE,EAAA,EAAAnE,CAAAoN,GAAAhJ,KAAAH,KAAMH,KAcRc,aAfkB,eAAAvB,EAAArD,OAAAqN,GAAA,EAAArN,CAAAsN,GAAAnH,EAAAoH,KAeH,SAAAC,EAAOlJ,GAAP,OAAAgJ,GAAAnH,EAAAsH,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACbtJ,EAAEO,iBADW6I,EAAAE,KAAA,EAGP7J,EAAK8J,aAAa9J,EAAKrE,MAAMsN,OAHtB,cAAAU,EAAAE,KAAA,EAIP7J,EAAKD,MAAM+I,WAAW9I,EAAKrE,MAAMoN,MAAO/I,EAAKrE,MAAMqN,QAAShJ,EAAKrE,MAAMsN,MAAOjJ,EAAKrE,MAAMuN,OAAQlJ,EAAKD,MAAMJ,OAAQK,EAAKD,MAAMgK,QAClI5L,KAAK,WACJ6B,EAAKQ,SAAS,CAACuI,MAAM,GAAIC,QAAQ,KACjChJ,EAAKD,MAAMiC,gBAEZ3D,MAAM,cATI,wBAAAsL,EAAAK,SAAAP,EAAAvJ,SAfG,gBAAA+J,GAAA,OAAA3K,EAAA4K,MAAAhK,KAAAtE,YAAA,GAEhBoE,EAAKrE,MAAQ,CACXoN,MAAO/I,EAAKD,MAAMgJ,MAClBC,QAAShJ,EAAKD,MAAMiJ,QACpBC,MAAOjJ,EAAKD,MAAMkJ,MAClBC,OAAQlJ,EAAKD,MAAMmJ,QANLlJ,mFAYhBE,KAAKH,MAAMtB,mDAgBA0L,GACPA,EAAI3E,SAAS,iBACftF,KAAKM,SAAS,CAACyI,MAAO,KACtB/I,KAAKM,SAAS,CAAC0I,OAAO,+CAGRkB,GAChBlK,KAAKM,SAAS,CACZ0I,OAAQkB,qCAIJ,IAAA7F,EAAArE,KAAAwB,EAEgDxB,KAAKH,MAAnD+B,EAFFJ,EAEEI,QAAS1E,EAFXsE,EAEWtE,OAAQqB,EAFnBiD,EAEmBjD,YAAauD,EAFhCN,EAEgCM,YAEtC,GAAG5E,EAAOC,QACR,IAAM4E,EAAWH,EAAQI,OAAO,WAC9BzD,IACAwD,MAIJ,OACEE,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eAAf,aACAH,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,QAAME,SAAUrC,KAAKW,cACpBzD,EAAOC,SAAY8E,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBAAsBlF,EAAOC,SAC9D8E,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACbH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,2BAA2B+H,QAAQ,SAApD,SACAlI,EAAAC,EAAAC,cAAA,OAAKC,UAAU,4BAAf,4CAEFH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,uBACbH,EAAAC,EAAAC,cAAA,SACErG,KAAK,OACLsG,UAAU,eACV1B,MAAOV,KAAKvE,MAAMoN,MAClBvG,SAAU,SAAAjC,GAAC,OAAIgE,EAAK/D,SAAS,CAACuI,MAAOxI,EAAEG,OAAOE,aAIpDuB,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACbH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,2BAA2B+H,QAAQ,SAApD,yBACAlI,EAAAC,EAAAC,cAAA,OAAKC,UAAU,4BAAf,8DAEFH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,uBACbH,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eAAf,aACAH,EAAAC,EAAAC,cAAA,SACErG,KAAK,OACLsG,UAAU,eACV1B,MAAOV,KAAKvE,MAAMsN,MAClBzG,SAAU,SAAAjC,GAAC,OAAIgE,EAAK/D,SAAS,CAACyI,MAAO1I,EAAEG,OAAOE,YAGlDuB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eAAf,sBACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,8BACbH,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBAAgBgB,MAAO,CAAC+E,gBAAe,OAAAlM,OAASmO,EAAQ,KAAjB,QACtDnI,EAAAC,EAAAC,cAAA,SAAOrG,KAAK,QAAQuO,QAA+B,IAAtBrK,KAAKvE,MAAMuN,OAAc1G,SAAU,kBAAM+B,EAAKiG,kBAAkB,OAE/FrI,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBAAgBgB,MAAO,CAAC+E,gBAAe,OAAAlM,OAASmO,EAAQ,KAAjB,QACtDnI,EAAAC,EAAAC,cAAA,SAAOrG,KAAK,QAAQuO,QAA+B,IAAtBrK,KAAKvE,MAAMuN,OAAc1G,SAAU,kBAAM+B,EAAKiG,kBAAkB,OAE/FrI,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBAAgBgB,MAAO,CAAC+E,gBAAe,OAAAlM,OAASmO,EAAQ,KAAjB,QACtDnI,EAAAC,EAAAC,cAAA,SAAOrG,KAAK,QAAQuO,QAA+B,IAAtBrK,KAAKvE,MAAMuN,OAAc1G,SAAU,kBAAM+B,EAAKiG,kBAAkB,OAE/FrI,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBAAgBgB,MAAO,CAAC+E,gBAAe,OAAAlM,OAASmO,EAAQ,KAAjB,QACtDnI,EAAAC,EAAAC,cAAA,SAAOrG,KAAK,QAAQuO,QAA+B,IAAtBrK,KAAKvE,MAAMuN,OAAc1G,SAAU,kBAAM+B,EAAKiG,kBAAkB,UAKrGrI,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACbH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,2BAA2B+H,QAAQ,WAApD,WACAlI,EAAAC,EAAAC,cAAA,OAAKC,UAAU,4BAAf,uIAEFH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,uBACbH,EAAAC,EAAAC,cAAA,YACEoI,KAAK,KACLC,KAAK,KACLpI,UAAU,eACV1B,MAAOV,KAAKvE,MAAMqN,QAClBxG,SAAU,SAAAjC,GAAC,OAAIgE,EAAK/D,SAAS,CAACwI,QAASzI,EAAEG,OAAOE,aAItDuB,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACbH,EAAAC,EAAAC,cAACsI,GAAA,EAAD,CAAQjI,QAASV,EAAaM,UAAU,eAAxC,UAGAH,EAAAC,EAAAC,cAACsI,GAAA,EAAD,CAAQ3O,KAAK,SAASsG,UAAU,8BAA8BgB,MAAO,CAACsH,WAAY,QAAlF,0BAlIehI,aAkJZE,mBANf,SAAyBnH,GACvB,MAAO,CACLyB,OAAQzB,EAAMyB,SAIsB,CAAE0L,cAAYrK,eAAvCqE,CAAsDuG,ICrDtDwB,eA7Fb,SAAAA,EAAY9K,GAAM,IAAAC,EAAA,OAAA/D,OAAAgE,EAAA,EAAAhE,CAAAiE,KAAA2K,IAChB7K,EAAA/D,OAAAkE,EAAA,EAAAlE,CAAAiE,KAAAjE,OAAAmE,EAAA,EAAAnE,CAAA4O,GAAAxK,KAAAH,KAAMH,KACDpE,MAAM,CACT2K,MAAK,GAEPtG,EAAK8K,WAAa9K,EAAK8K,WAAWnI,KAAhB1G,OAAA8K,EAAA,EAAA9K,QAAA8K,EAAA,EAAA9K,CAAA+D,KAClBA,EAAKgC,YAAchC,EAAKgC,YAAYW,KAAjB1G,OAAA8K,EAAA,EAAA9K,QAAA8K,EAAA,EAAA9K,CAAA+D,KANHA,6EAUhBE,KAAKM,SAAS,CAAE8F,MAAM,yCAItBpG,KAAKM,SAAS,CAAE8F,MAAM,wCAEZ/F,GACVA,EAAEO,kDAKI,IAAAY,EACwGxB,KAAKH,MAA5GgJ,EADDrH,EACCqH,MAAOC,EADRtH,EACQsH,QAASC,EADjBvH,EACiBuH,MAAOC,EADxBxH,EACwBwH,OAAQ/H,EADhCO,EACgCP,SAAU4J,EAD1CrJ,EAC0CqJ,KAAMC,EADhDtJ,EACgDsJ,UAAWC,EAD3DvJ,EAC2DuJ,cAAeC,EAD1ExJ,EAC0EwJ,WAAYnB,EADtFrI,EACsFqI,OAAQpK,EAD9F+B,EAC8F/B,OACpG,OAEEwC,EAAAC,EAAAC,cAAA,OAAK9F,GAAG,kBACN4F,EAAAC,EAAAC,cAAA,OAAK9F,GAAG,cAAcwM,GACtB5G,EAAAC,EAAAC,cAAA,OAAK9F,GAAG,gBACN4F,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qBAAf,cAA+CnB,GAC/CgB,EAAAC,EAAAC,cAAA,kBACAF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qBAEXpC,KAAKH,MAAMgL,OAAS7K,KAAKH,MAAMiL,UAC/B7I,EAAAC,EAAAC,cAAC8I,GAAA/I,EAAD,CAAQgJ,SAAO,GACZL,GAGH5I,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAC8I,GAAA/I,EAAD,CAAQgJ,SAAO,GAAEL,GAAtB,kBAAmD5I,EAAAC,EAAAC,cAAC8I,GAAA/I,EAAD,CAAQgJ,SAAO,GAAEJ,GAApE,MAGHC,GACC9I,EAAAC,EAAAC,cAAA,OAAK9F,GAAG,aACN4F,EAAAC,EAAAC,cAACgB,EAAA,EAAD,CAAU9G,GAAG,wBACb4F,EAAAC,EAAAC,cAAA,KAAGC,UAAU,8BAA8BI,QAASxC,KAAKmL,YAAY1I,KAAKzC,MAAOqD,OAAO,WACtFpB,EAAAC,EAAAC,cAACgB,EAAA,EAASG,KAAV,CAAelB,UAAU,gBAAgBiB,OAAO,OAAOD,MAAO,CAACG,QAAS,KACtEtB,EAAAC,EAAAC,cAACqB,EAAA,EAAD,CAAUhB,QAASxC,KAAK4K,YAAxB,aACA3I,EAAAC,EAAAC,cAACqB,EAAA,EAAD,CAAUC,SAAO,IACjBxB,EAAAC,EAAAC,cAACqB,EAAA,EAAD,CAAUhB,QAASwI,GAAnB,iBAGJ/I,EAAAC,EAAAC,cAAC+D,GAAA,EAAD,CAAOC,OAAO,QAAQC,KAAMpG,KAAKvE,MAAM2K,KAAMC,OAAQrG,KAAK8B,aACxDG,EAAAC,EAAAC,cAACiJ,GAAD,CACEvC,MAAOA,EACPC,QAASA,EACTC,MAAOA,EACPC,OAAQA,EACRvJ,OAAQA,EACRoK,OAAQA,EACR/H,YAAa9B,KAAK8B,iBAMhB,IAAXkH,GACC/G,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBAAgB0G,IAGvB,IAAXE,GACC/G,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qBAAqBgB,MAAO,CAAC+E,gBAAe,OAAAlM,OAAS8M,EAAT,QAC3D9G,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBAAgB0G,IAGvB,IAAXE,GACC/G,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qBAAqBgB,MAAO,CAAC+E,gBAAe,OAAAlM,OAAS8M,EAAT,QAC3D9G,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBAAgB0G,IAGvB,IAAXE,GACC/G,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qBAAqBgB,MAAO,CAAC+E,gBAAe,OAAAlM,OAAS8M,EAAT,QAC3D9G,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBAAgB0G,YAtFxBpG,aCCb2I,eACJ,SAAAA,EAAYxL,GAAM,IAAAC,EAAA,OAAA/D,OAAAgE,EAAA,EAAAhE,CAAAiE,KAAAqL,IAChBvL,EAAA/D,OAAAkE,EAAA,EAAAlE,CAAAiE,KAAAjE,OAAAmE,EAAA,EAAAnE,CAAAsP,GAAAlL,KAAAH,KAAMH,KAcRc,aAfkB,eAAAvB,EAAArD,OAAAqN,GAAA,EAAArN,CAAAsN,GAAAnH,EAAAoH,KAeH,SAAAC,EAAOlJ,GAAP,OAAAgJ,GAAAnH,EAAAsH,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACbtJ,EAAEO,iBADW6I,EAAAE,KAAA,EAEP7J,EAAK8J,aAAa9J,EAAKrE,MAAMsN,OAFtB,cAAAU,EAAAE,KAAA,EAGP7J,EAAKD,MACRyL,WAAWxL,EAAKrE,MAAMoN,MAAO/I,EAAKrE,MAAMqN,QAAShJ,EAAKrE,MAAMsN,MAAOjJ,EAAKrE,MAAMuN,OAAQlJ,EAAKD,MAAMJ,QACjGxB,KAAM,WACL6B,EAAKD,MAAMiC,gBAEZ3D,MAAM,cARI,wBAAAsL,EAAAK,SAAAP,EAAAvJ,SAfG,gBAAA+J,GAAA,OAAA3K,EAAA4K,MAAAhK,KAAAtE,YAAA,GAEhBoE,EAAKrE,MAAQ,CACXoN,MAAM,GACNE,MAAM,GACND,QAAQ,GACRE,OAAQ,GANMlJ,mFAYhBE,KAAKH,MAAMtB,mDAkBA0L,GACPA,EAAI3E,SAAS,iBACftF,KAAKM,SAAS,CAACyI,MAAO,KACtB/I,KAAKM,SAAS,CAAC0I,OAAO,+CAIRkB,GAChBlK,KAAKM,SAAS,CACZ0I,OAAQkB,sDAKV,OADelK,KAAKvE,MAAMoN,MAAMlN,OACnB,IAAY,QAClB,sCAGD,IAAA0I,EAAArE,KAAAwB,EAEgDxB,KAAKH,MAAnD+B,EAFFJ,EAEEI,QAAS1E,EAFXsE,EAEWtE,OAAQqB,EAFnBiD,EAEmBjD,YAAauD,EAFhCN,EAEgCM,YAEtC,GAAG5E,EAAOC,QACR,IAAM4E,EAAWH,EAAQI,OAAO,WAC9BzD,IACAwD,MAIJ,OACEE,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eAAf,eACAH,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,QAAME,SAAUrC,KAAKW,cACpBzD,EAAOC,SAAY8E,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBAAsBlF,EAAOC,SAC9D8E,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACbH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,2BAA2B+H,QAAQ,SAApD,SACAlI,EAAAC,EAAAC,cAAA,OAAKC,UAAU,4BAAf,4CAEFH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,uBACbH,EAAAC,EAAAC,cAACoC,EAAA,EAAD,CAAWgH,gBAAiBvL,KAAKwL,2BAC/BvJ,EAAAC,EAAAC,cAAA,SACErG,KAAK,OACLsG,UAAU,eACV1B,MAAOV,KAAKvE,MAAMoN,MAClBvG,SAAU,SAAAjC,GAAC,OAAIgE,EAAK/D,SAAS,CAACuI,MAAOxI,EAAEG,OAAOE,WAEhDuB,EAAAC,EAAAC,cAACqC,EAAA,EAAYiH,SAAb,SAINxJ,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACbH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,2BAA2B+H,QAAQ,SAApD,yBACAlI,EAAAC,EAAAC,cAAA,OAAKC,UAAU,4BAAf,8DAEFH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,uBACbH,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eAAf,aACAH,EAAAC,EAAAC,cAAA,SACErG,KAAK,OACLsG,UAAU,eACV1B,MAAOV,KAAKvE,MAAMsN,MAClBzG,SAAU,SAAAjC,GAAC,OAAIgE,EAAK/D,SAAS,CAACyI,MAAO1I,EAAEG,OAAOE,YAGlDuB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eAAf,sBACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,8BACbH,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBAAgBgB,MAAO,CAAC+E,gBAAe,OAAAlM,OAASmO,EAAQ,KAAjB,QACtDnI,EAAAC,EAAAC,cAAA,SAAOrG,KAAK,QAAQuO,QAA+B,IAAtBrK,KAAKvE,MAAMuN,OAAc1G,SAAU,kBAAM+B,EAAKiG,kBAAkB,OAE/FrI,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBAAgBgB,MAAO,CAAC+E,gBAAe,OAAAlM,OAASmO,EAAQ,KAAjB,QACtDnI,EAAAC,EAAAC,cAAA,SAAOrG,KAAK,QAAQuO,QAA+B,IAAtBrK,KAAKvE,MAAMuN,OAAc1G,SAAU,kBAAM+B,EAAKiG,kBAAkB,OAE/FrI,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBAAgBgB,MAAO,CAAC+E,gBAAe,OAAAlM,OAASmO,EAAQ,KAAjB,QACtDnI,EAAAC,EAAAC,cAAA,SAAOrG,KAAK,QAAQuO,QAA+B,IAAtBrK,KAAKvE,MAAMuN,OAAc1G,SAAU,kBAAM+B,EAAKiG,kBAAkB,OAE/FrI,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBAAgBgB,MAAO,CAAC+E,gBAAe,OAAAlM,OAASmO,EAAQ,KAAjB,QACtDnI,EAAAC,EAAAC,cAAA,SAAOrG,KAAK,QAAQuO,QAA+B,IAAtBrK,KAAKvE,MAAMuN,OAAc1G,SAAU,kBAAM+B,EAAKiG,kBAAkB,UAKrGrI,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACbH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,2BAA2B+H,QAAQ,WAApD,WACAlI,EAAAC,EAAAC,cAAA,OAAKC,UAAU,4BAAf,uIAEFH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,uBACbH,EAAAC,EAAAC,cAAA,YACEoI,KAAK,KACLC,KAAK,KACLpI,UAAU,eACV1B,MAAOV,KAAKvE,MAAMqN,QAClBxG,SAAU,SAAAjC,GAAC,OAAIgE,EAAK/D,SAAS,CAACwI,QAASzI,EAAEG,OAAOE,aAItDuB,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACbH,EAAAC,EAAAC,cAACsI,GAAA,EAAD,CAAQjI,QAASV,EAAaM,UAAU,eAAxC,UAGAH,EAAAC,EAAAC,cAACsI,GAAA,EAAD,CAAQ3O,KAAK,SAASsG,UAAU,8BAA8BgB,MAAO,CAACsH,WAAY,QAAlF,8BA7IWhI,aA6JRE,mBANf,SAAyBnH,GACvB,MAAO,CACLyB,OAAQzB,EAAMyB,SAIsB,CAAEoO,WHzGhB,SAACzC,EAAOC,EAASC,EAAOC,EAAQC,GAAhC,OAA4C,SAAC9J,EAAUO,GAAa,IAEtFrD,EADcqD,IAAf/C,YACkBrB,KAAKe,GAC5B,OAAO,IAAIuB,QAAQ,SAACC,EAASC,GAC3B,OAAOL,EAAQ,OAAD,cAAAxB,OAAuBI,EAAvB,WAAAJ,OAAmCgN,EAAnC,UAAoD,CAACJ,QAAOC,UAASC,QAAOC,WACvF/K,KAAK,SAAAC,GACJL,IACAsB,EA9CuB,CAC7BrD,KlBHyB,ckBIzBU,KA4CsB0B,MAEjBC,MAAM,SAAAC,GACLa,QAAQC,IAAId,GACZe,EAASb,EAASF,EAAIjB,UACtBW,UG6F8CS,eAAvCqE,CAAsDyI,ICxIxDK,GAAa,WACxB,OAAO,SAAAvM,GACL,OAAO1B,EAAQ,MAAO,cACnBQ,KAAK,SAAAC,GAEJiB,EA5B2B,CACjCrD,KtBIwB,asBHxBN,MA0ByB0C,MAEpBC,MAAM,SAAAC,GACLa,QAAQC,IAAId,GACZe,EAASb,EAASF,EAAIuN,eA4CjBC,GAAa,SAACnM,GAAD,OAAY,SAACN,EAAUO,GAAa,IAEtDmM,EADcnM,IAAf/C,YACsBrB,KAAKe,GAChC,OAAOoB,EAAQ,SAAD,cAAAxB,OAAyB4P,EAAzB,WAAA5P,OAAyCwD,IACpDxB,KAAK,SAAAC,GACJiB,EA5E2B,CAC/BrD,KtBAyB,csBCzBO,GA0EwBoD,MAErBtB,MAAM,SAAAC,GACLe,EAASb,EAASF,EAAIjB,cClFtB2O,eAEJ,SAAAA,EAAYjM,GAAM,IAAAC,EAAA,OAAA/D,OAAAgE,EAAA,EAAAhE,CAAAiE,KAAA8L,IAChBhM,EAAA/D,OAAAkE,EAAA,EAAAlE,CAAAiE,KAAAjE,OAAAmE,EAAA,EAAAnE,CAAA+P,GAAA3L,KAAAH,KAAMH,KAaRc,aAAe,SAAAN,GACbA,EAAEO,iBACFd,EAAKD,MACFkM,WAAWjM,EAAKrE,MAAMgF,KAAMX,EAAKrE,MAAMuQ,KAAMlM,EAAKrE,MAAMsN,MAAOjJ,EAAKD,MAAMJ,QAC1ExB,KAAK,WACJ6B,EAAKD,MAAMiC,gBAEZ3D,MAAM,eAnBT2B,EAAKrE,MAAQ,CACXgF,KAAKX,EAAKD,MAAMoM,SAChBD,KAAMlM,EAAKD,MAAMqM,gBACjBnD,MAAMjJ,EAAKD,MAAMsM,WALHrM,mFAWhBE,KAAKH,MAAMtB,+DAiBX,OADeyB,KAAKvE,MAAMgF,KAAK9E,OAClB,IAAY,QAClB,sDAIP,OADeqE,KAAKvE,MAAMuQ,KAAKrQ,OAClB,IAAY,QAClB,sCAGD,IAAA0I,EAAArE,KAAAwB,EACgDxB,KAAKH,MAAnD+B,EADFJ,EACEI,QAAS1E,EADXsE,EACWtE,OAAQqB,EADnBiD,EACmBjD,YAAauD,EADhCN,EACgCM,YAEtC,GAAG5E,EAAOC,QACR,IAAM4E,EAAWH,EAAQI,OAAO,WAC9BzD,IACAwD,MAIJ,OACEE,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eAAf,aACAH,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,QAAME,SAAUrC,KAAKW,cACpBzD,EAAOC,SAAY8E,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBAAsBlF,EAAOC,SAC9D8E,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACbH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,2BAA2B+H,QAAQ,QAApD,QACAlI,EAAAC,EAAAC,cAAA,OAAKC,UAAU,4BAAf,qEAEFH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,uBACbH,EAAAC,EAAAC,cAACoC,EAAA,EAAD,CAAWgH,gBAAiBvL,KAAKoM,0BAC/BnK,EAAAC,EAAAC,cAAA,SACErG,KAAK,OACLsG,UAAU,eACV1B,MAAOV,KAAKvE,MAAMgF,KAClB6B,SAAU,SAAAjC,GAAC,OAAIgE,EAAK/D,SAAS,CAACG,KAAMJ,EAAEG,OAAOE,WAE/CuB,EAAAC,EAAAC,cAACqC,EAAA,EAAYiH,SAAb,SAINxJ,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACbH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,2BAA2B+H,QAAQ,SAApD,aACAlI,EAAAC,EAAAC,cAAA,OAAKC,UAAU,4BAAf,6FAEFH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,uBACbH,EAAAC,EAAAC,cAAA,SACErG,KAAK,OACLsG,UAAU,eACV1B,MAAOV,KAAKvE,MAAMsN,MAClBzG,SAAU,SAAAjC,GAAC,OAAIgE,EAAK/D,SAAS,CAACyI,MAAO1I,EAAEG,OAAOE,aAIpDuB,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACbH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,2BAA2B+H,QAAQ,QAApD,eACAlI,EAAAC,EAAAC,cAAA,OAAKC,UAAU,4BAAf,yFAEFH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,uBACfH,EAAAC,EAAAC,cAACoC,EAAA,EAAD,CAAWgH,gBAAiBvL,KAAKqM,0BAC/BpK,EAAAC,EAAAC,cAAA,YACEoI,KAAK,KACLC,KAAK,IACL1O,KAAK,OACLsG,UAAU,eACV1B,MAAOV,KAAKvE,MAAMuQ,KAClB1J,SAAU,SAAAjC,GAAC,OAAIgE,EAAK/D,SAAS,CAAC0L,KAAM3L,EAAEG,OAAOE,WAE/CuB,EAAAC,EAAAC,cAACqC,EAAA,EAAYiH,SAAb,SAIJxJ,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACbH,EAAAC,EAAAC,cAACsI,GAAA,EAAD,CAAQjI,QAASV,EAAaM,UAAU,eAAxC,UAGAH,EAAAC,EAAAC,cAACsI,GAAA,EAAD,CAAQ3O,KAAK,SAASsG,UAAU,8BAA8BgB,MAAO,CAACsH,WAAY,QAAlF,0BAhHehI,aAgIZE,mBANf,SAAyBnH,GACvB,MAAO,CACLyB,OAAQzB,EAAMyB,SAIsB,CAAE6O,WDxEhB,SAACE,EAAUC,EAAiBC,EAAW1M,GAAvC,OAAkD,SAACN,EAAUO,GAAa,IAE5FmM,EADcnM,IAAf/C,YACsBrB,KAAKe,GAChC,OAAO,IAAIuB,QAAQ,SAACC,EAASC,GAC3B,OAAOL,EAAQ,MAAD,cAAAxB,OAAsB4P,EAAtB,WAAA5P,OAAsCwD,GAAU,CAACwM,WAASC,kBAAgBC,cACrFlO,KAAM,SAAAC,GACLL,IACAsB,EAlD6B,CACnCrD,KtBRyB,csBSzBI,KAgDsBgC,EA/CtB7B,GA+C2BoD,MAEtBtB,MAAM,SAAAC,GACLe,EAASb,EAASF,EAAIjB,UACtB8B,QAAQC,IAAId,GACZN,UC4D8CS,eAAvCqE,CAAsDkJ,ICzH/DQ,eAEJ,SAAAA,EAAYzM,GAAM,IAAAC,EAAA,OAAA/D,OAAAgE,EAAA,EAAAhE,CAAAiE,KAAAsM,IAChBxM,EAAA/D,OAAAkE,EAAA,EAAAlE,CAAAiE,KAAAjE,OAAAmE,EAAA,EAAAnE,CAAAuQ,GAAAnM,KAAAH,KAAMH,KAyBR+L,WAAa,SAAAvL,GACXA,EAAEO,iBACFd,EAAKD,MACF+L,WAAW9L,EAAKD,MAAMsE,SAAS1I,MAAMY,IACrC4B,KAAK,WACJ6B,EAAKD,MAAM+B,QAAQkC,KAAK,OAEzB3F,MAAM,eAjCO2B,EAkDlByM,SAAW,SAAAlM,GACTA,EAAEO,kBAjDFd,EAAKrE,MAAM,CACT2K,MAAM,EACNoG,SAAS,EACTD,UAAU,GAEZzM,EAAK2M,kBAAoB3M,EAAK2M,kBAAkBhK,KAAvB1G,OAAA8K,EAAA,EAAA9K,QAAA8K,EAAA,EAAA9K,CAAA+D,KACzBA,EAAK4M,mBAAqB5M,EAAK4M,mBAAmBjK,KAAxB1G,OAAA8K,EAAA,EAAA9K,QAAA8K,EAAA,EAAA9K,CAAA+D,KAC1BA,EAAKgC,YAAchC,EAAKgC,YAAYW,KAAjB1G,OAAA8K,EAAA,EAAA9K,QAAA8K,EAAA,EAAA9K,CAAA+D,KACnBA,EAAKqL,YAAcrL,EAAKqL,YAAY1I,KAAjB1G,OAAA8K,EAAA,EAAA9K,QAAA8K,EAAA,EAAA9K,CAAA+D,KAVHA,mFAiBhBb,QAAQC,IAAI,yDAIFmB,GACVA,EAAEO,qDAgBQvE,EAAGgE,GACbL,KAAKH,MAAM+B,QAAQkC,KAAK,CACtBoB,SAAQ,SAAAjJ,OAAUI,GAClBZ,MAAO,CAACY,GAAIA,0CAIHA,EAAIgE,GACfL,KAAKH,MAAML,aAAanD,GACxBgE,EAAEsM,wDAQF3M,KAAKM,SAAS,CAAE8F,MAAM,EAAOoG,SAAS,EAAOD,UAAU,EAAOK,UAAU,gDAIxE5M,KAAKM,SAAS,CAAE8F,MAAM,EAAMoG,SAAS,iDAGrCxM,KAAKM,SAAS,CAAE8F,MAAM,EAAMmG,UAAU,iDAGtCvM,KAAKM,SAAS,CAAE8F,MAAM,EAAMwG,UAAU,qCAUhC,IAAAvI,EAAArE,KAAAwB,EACuDxB,KAAKH,MAA1DrE,EADFgG,EACEhG,MAAOe,EADTiF,EACSjF,MAAOI,EADhB6E,EACgB7E,YAAaqO,EAD7BxJ,EAC6BwJ,WAAYhO,EADzCwE,EACyCxE,UAI3C6P,EAAYrR,EAAMsR,KAAK,SAAA5Q,GAAI,OAAIA,EAAKE,MAAQiI,EAAKxE,MAAMkN,MAAMC,OAAO3Q,KAEpE4Q,EADW1Q,EAAMD,OAAO,SAAAE,GAAI,OAAIA,EAAKN,KAAKE,MAAQiI,EAAKxE,MAAMkN,MAAMC,OAAO3Q,KACrDF,IAAI,SAAAlB,GAAC,OAC5BgH,EAAAC,EAAAC,cAAC+K,GAAD,CACE5P,IAAKrC,EAAEmB,IACPyM,MAAO5N,EAAE4N,MACTC,QAAS7N,EAAE6N,QACXC,MAAO9N,EAAEkS,SACTnE,OAAQ/N,EAAE+N,OACV/H,SAAUhG,EAAEK,KAAK2F,SACjB4J,KAAM5P,EAAEmS,UACRtC,UAAW7P,EAAE6P,UACbjB,OAAQ5O,EAAEmB,IACVqD,OAAQxE,EAAEiB,KAAKE,IACf4O,WAAYA,EAAWvI,KAAK4B,EAAMpJ,EAAEK,KAAKc,IAAKnB,EAAEiB,KAAKE,IAAKnB,EAAEmB,KAC5D2O,cAAepO,IAAgB1B,EAAEK,KAAKc,QAI1C,MACsB,qBAAZyQ,EACR5K,EAAAC,EAAAC,cAAA,OAAKC,UAAU,4BACbH,EAAAC,EAAAC,cAAA,OAAK9F,GAAG,qBACN4F,EAAAC,EAAAC,cAAA,OAAK9F,GAAG,iBAAiBwQ,EAAUZ,UACnChK,EAAAC,EAAAC,cAAA,OAAK9F,GAAG,kBACN4F,EAAAC,EAAAC,cAAA,KACEC,UAAU,qBACVgB,MAAOpG,EAAUsI,SAASuH,EAAUzQ,KA7B5B,CAAEkL,QAAS,OAAOC,MAAM,SADvB,CAAED,QAAS,OAAOC,MAAM,SA+BjC/E,QAASxC,KAAKR,aAAaiD,KAAKzC,KAAM6M,EAAUzQ,SAItD6F,EAAAC,EAAAC,cAAA,OAAK9F,GAAG,eACN4F,EAAAC,EAAAC,cAAA,OAAK9F,GAAG,aAAa+G,MAAO,CAAC+E,gBAAe,OAAAlM,OAAS4Q,EAAUV,UAAnB,SAE9ClK,EAAAC,EAAAC,cAAA,OAAK9F,GAAG,oBACJ4F,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACbH,EAAAC,EAAAC,cAAA,OAAK9F,GAAG,qBAAqBmG,QAASxC,KAAK8C,YAAYL,KAAKzC,KAAM6M,EAAUvR,KAAKc,KAAMgH,MAAO,CAAC+E,gBAAe,OAAAlM,OAAS4Q,EAAUvR,KAAKwB,gBAAxB,QAC9GmF,EAAAC,EAAAC,cAAA,OAAK9F,GAAG,kBACN4F,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBAAgBI,QAASxC,KAAK8C,YAAYL,KAAKzC,KAAM6M,EAAUvR,KAAKc,MAAnF,MAA6FyQ,EAAUvR,KAAK2F,YAGhHgB,EAAAC,EAAAC,cAAA,OAAK9F,GAAG,oBACN4F,EAAAC,EAAAC,cAAA,OAAK9F,GAAG,yBAAyBwQ,EAAUX,iBAC3CjK,EAAAC,EAAAC,cAAA,OAAK9F,GAAG,yBACN4F,EAAAC,EAAAC,cAAA,OAAK9F,GAAG,qBACN4F,EAAAC,EAAAC,cAAA,2BAAkBF,EAAAC,EAAAC,cAAC8I,GAAA/I,EAAD,CAAQmL,OAAO,eAAeR,EAAU/B,aAE5D7I,EAAAC,EAAAC,cAAC+D,GAAA,EAAD,CAAOC,OAAO,QAAQC,KAAMpG,KAAKvE,MAAM2K,KAAMC,OAAQrG,KAAK8B,aACvD9B,KAAKvE,MAAM+Q,SACVvK,EAAAC,EAAAC,cAACmL,GAADvR,OAAAwR,OAAA,CACE9N,OAAQO,KAAKH,MAAMkN,MAAMC,OAAO3Q,GAChCyF,YAAa9B,KAAK8B,aACd9B,KAAKH,QAGZG,KAAKvE,MAAM8Q,UACVtK,EAAAC,EAAAC,cAACqL,GAADzR,OAAAwR,OAAA,CACE9N,OAAQO,KAAKH,MAAMkN,MAAMC,OAAO3Q,GAChCyF,YAAa9B,KAAK8B,YAClBmK,SAAUY,EAAUZ,SACpBC,gBAAiBW,EAAUX,gBAC3BC,UAAWU,EAAUV,WACjBnM,KAAKH,WAOlBlD,IAAgBkQ,EAAUvR,KAAKc,KAC9B6F,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACgB,EAAA,EAAD,CAAU9G,GAAG,uBAAuB4J,WAAS,GAC7ChE,EAAAC,EAAAC,cAAA,KAAGC,UAAU,8BAA8BI,QAASxC,KAAKmL,YAAa9H,OAAO,WAC3EpB,EAAAC,EAAAC,cAACgB,EAAA,EAASG,KAAV,CAAelB,UAAU,gBAAgBiB,OAAO,OAAOD,MAAO,CAACG,QAAS,KACtEtB,EAAAC,EAAAC,cAACqB,EAAA,EAAD,CAAUhB,QAASxC,KAAK0M,oBAAxB,aACAzK,EAAAC,EAAAC,cAACqB,EAAA,EAAD,CAAUC,SAAO,IACjBxB,EAAAC,EAAAC,cAACqB,EAAA,EAAD,CAAUhB,QAASxC,KAAK4L,YAAxB,mBAObjP,IAAgBkQ,EAAUvR,KAAKc,KAC9B6F,EAAAC,EAAAC,cAAA,OAAK9F,GAAG,sBACR4F,EAAAC,EAAAC,cAACsI,GAAA,EAAD,CAAQrI,UAAU,eAAe+D,OAAO,QAAQ3D,QAASxC,KAAKyM,mBAA9D,aAIFxK,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACZ6K,IAGHhL,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,0BAjLJM,aA+LJC,mBAAWC,YAR1B,SAAyBnH,GACvB,MAAO,CACLD,MAAOC,EAAMD,MACbe,MAAOd,EAAMc,MACbI,YAAalB,EAAMkB,YAAYrB,KAAKe,GACpCW,UAAWvB,EAAMkB,YAAYrB,KAAK0B,WAAa,KAGA,CAAE2L,cAAY+C,cAAYV,WNlKnD,SAACrL,EAASsJ,EAASC,GAC3C,OAAO,SAAA/J,GACL,OAAO,IAAIvB,QAAQ,SAACC,EAASC,GAC3B,OAAOL,EAAQ,SAAD,cAAAxB,OAAyB0D,EAAzB,WAAA1D,OAA0CgN,EAA1C,WAAAhN,OAA2DiN,IACtEjL,KAAK,WACJJ,IACAsB,EAvCmB,CAC3BrD,KlBKyB,ckBJzBO,GAqCwB6M,MAEjB/K,MAAM,SAAAC,GACLe,EAASb,EAASF,EAAIjB,UACtBW,UMwJ+E8K,cAAYgD,cAAYpM,gBAAvFoD,CAAuG0J,mCCnM3HmB,eACJ,SAAAA,EAAY5N,GAAM,IAAAC,EAAA,OAAA/D,OAAAgE,EAAA,EAAAhE,CAAAiE,KAAAyN,IAChB3N,EAAA/D,OAAAkE,EAAA,EAAAlE,CAAAiE,KAAAjE,OAAAmE,EAAA,EAAAnE,CAAA0R,GAAAtN,KAAAH,KAAMH,KAePc,aAhBiB,eAAAvB,EAAArD,OAAAqN,GAAA,EAAArN,CAAAsN,GAAAnH,EAAAoH,KAgBF,SAAAC,EAAOlJ,GAAP,OAAAgJ,GAAAnH,EAAAsH,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACdtJ,EAAEO,iBADY6I,EAAAE,KAAA,EAGR7J,EAAK4N,oBAAoB5N,EAAKrE,MAAMqB,iBAH5B,cAAA2M,EAAAE,KAAA,EAKR7J,EAAK6N,aAAa7N,EAAKrE,MAAMmS,SALrB,cAAAnE,EAAAE,KAAA,EAMR7J,EAAK+N,cAAc/N,EAAKrE,MAAMqS,UANtB,cAAArE,EAAAE,KAAA,EAOR7J,EAAKiO,YAAYjO,EAAKrE,MAAMuS,QAPpB,cAAAvE,EAAAE,KAAA,GASR7J,EAAKmO,WAAWnO,EAAKrE,MAAMqB,gBAAgBgD,EAAKrE,MAAM6F,IAAIxB,EAAKrE,MAAMmS,QAAQ9N,EAAKrE,MAAMqS,SAAShO,EAAKrE,MAAMuS,OAAOlO,EAAKrE,MAAMyS,aATtH,yBAAAzE,EAAAK,SAAAP,EAAAvJ,SAhBE,gBAAA+J,GAAA,OAAA3K,EAAA4K,MAAAhK,KAAAtE,YAAA,GAEhBoE,EAAKrE,MAAQ,CACXqB,gBAAiBgD,EAAKD,MAAM/C,gBAC5BwE,IAAKxB,EAAKD,MAAMyB,IAChBsM,QAAS9N,EAAKD,MAAM+N,QACpBE,SAAUhO,EAAKD,MAAMiO,SACrBE,OAAQlO,EAAKD,MAAMmO,OACnBE,YAAapO,EAAKD,MAAMqO,aARVpO,gIA4BGmK,GACfA,EAAI3E,SAAS,gBACftF,KAAKM,SAAS,CAACxD,gBAAiB,yEAGvBmN,GACRA,EAAI3E,SAAS,iBACd2E,EAAMA,EAAI7F,QAAQ,2BAA4B,IAC9CpE,KAAKM,SAAS,CAACsN,QAAQ3D,2CAGbA,GACTA,EAAI3E,SAAS,kBACd2E,EAAMA,EAAI7F,QAAQ,oCAAqC,IACvDpE,KAAKM,SAAS,CAACwN,SAAS7D,yCAGhBA,GACPA,EAAI3E,SAAS,gBACd2E,EAAMA,EAAI7F,QAAQ,0BAA2B,IAC7CpE,KAAKM,SAAS,CAAC0N,OAAO/D,kFAITnN,EAAgBwE,EAAIsM,EAAQE,EAASE,EAAOE,0FACvDvO,EAAUK,KAAKH,MAAMgM,gBACRpO,EAAQ,MAAD,aAAAxB,OAAqB0D,GAAW,CAAC7C,kBAAgBwE,MAAIsM,UAAQE,WAASE,SAAOE,gBAClGjQ,KAAK,SAAAC,GAGJ,OAFAmG,EAAKxE,MAAMiC,cACXuC,EAAKxE,MAAMsO,uBAAuB9J,EAAK5I,MAAMqB,iBACtCoB,IAERC,MAAM,SAAAC,GACLa,QAAQC,IAAId,YAPZ9C,SASF0E,KAAKH,MAAMuO,cAAc9S,iJAGrB,IAAA+S,EAAArO,KAAAwB,EACyBxB,KAAKH,MAA5B3C,EADFsE,EACEtE,OAAQ4E,EADVN,EACUM,YAChB,OACEG,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eAAf,qBACAH,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,QAAME,SAAU,SAAChC,GAAD,OAAOgO,EAAK1N,aAAaN,KACxCnD,EAAOC,SAAY8E,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBAAsBlF,EAAOC,SAC9D8E,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACbH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,2BAA2B+H,QAAQ,OAApD,OACAlI,EAAAC,EAAAC,cAAA,OAAKC,UAAU,4BAAf,wEAEFH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,uBACbH,EAAAC,EAAAC,cAAA,YACEoI,KAAK,KACLC,KAAK,IACL1O,KAAK,OACLsG,UAAU,eACV1B,MAAOV,KAAKvE,MAAM6F,IAClBgB,SAAU,SAAAjC,GAAC,OAAIgO,EAAK/N,SAAS,CAACgB,IAAKjB,EAAEG,OAAOE,aAIlDuB,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACbH,EAAAC,EAAAC,cAAA,SAAOgI,QAAQ,SAAf,qBACAlI,EAAAC,EAAAC,cAAA,OAAKC,UAAU,4BAAf,iHAEFH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,uBACbH,EAAAC,EAAAC,cAAA,SACErG,KAAK,OACLsG,UAAU,eACV1B,MAAOV,KAAKvE,MAAMqB,gBAClBwF,SAAU,SAAAjC,GAAC,OAAIgO,EAAK/N,SAAS,CAACxD,gBAAiBuD,EAAEG,OAAOE,aAI9DuB,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACbH,EAAAC,EAAAC,cAAA,SAAOgI,QAAQ,UAAf,UACAlI,EAAAC,EAAAC,cAAA,OAAKC,UAAU,4BAAf,uDAEFH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,uBACfH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eAAf,WACEH,EAAAC,EAAAC,cAACmM,GAAA,EAAD,KACErM,EAAAC,EAAAC,cAACmM,GAAA,EAAWC,MAAZ,6BACAtM,EAAAC,EAAAC,cAAA,SACErG,KAAK,OACLsG,UAAU,eACV1B,MAAOV,KAAKvE,MAAMmS,QAClBtL,SAAU,SAAAjC,GAAC,OAAIgO,EAAK/N,SAAS,CAACsN,QAASvN,EAAEG,OAAOE,YAGpDuB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eAAf,YACAH,EAAAC,EAAAC,cAACmM,GAAA,EAAD,KACErM,EAAAC,EAAAC,cAACmM,GAAA,EAAWC,MAAZ,qCACAtM,EAAAC,EAAAC,cAAA,SACErG,KAAK,OACLsG,UAAU,eACV1B,MAAOV,KAAKvE,MAAMqS,SAClBxL,SAAU,SAAAjC,GAAC,OAAIgO,EAAK/N,SAAS,CAACwN,SAAUzN,EAAEG,OAAOE,YAGrDuB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eAAf,UACAH,EAAAC,EAAAC,cAACmM,GAAA,EAAD,KACErM,EAAAC,EAAAC,cAACmM,GAAA,EAAWC,MAAZ,4BACAtM,EAAAC,EAAAC,cAAA,SACErG,KAAK,OACLsG,UAAU,eACV1B,MAAOV,KAAKvE,MAAMuS,OAClB1L,SAAU,SAAAjC,GAAC,OAAIgO,EAAK/N,SAAS,CAAC0N,OAAQ3N,EAAEG,OAAOE,cAKvDuB,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACbH,EAAAC,EAAAC,cAAA,SAAOgI,QAAQ,SAAf,SACAlI,EAAAC,EAAAC,cAAA,OAAKC,UAAU,4BAAf,0DAEFH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,uBAEbH,EAAAC,EAAAC,cAAA,SACErG,KAAK,WACL4E,MAAOV,KAAKvE,MAAMyS,YAClBM,eAAgBxO,KAAKvE,MAAMyS,YAC3B5L,SAAU,kBAAM+L,EAAK/N,SAAS,CAAC4N,aAAcG,EAAK5S,MAAMyS,mBAI9DjM,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACbH,EAAAC,EAAAC,cAACsI,GAAA,EAAD,CAAQjI,QAASV,EAAaM,UAAU,eAAxC,UAGAH,EAAAC,EAAAC,cAACsI,GAAA,EAAD,CAAQ3O,KAAK,SAASsG,UAAU,8BAA8BgB,MAAO,CAACsH,WAAY,QAAlF,0BAtKkBhI,aAsLfE,mBANf,SAAyBnH,GACvB,MAAM,CACJyB,OAAQzB,EAAMyB,SAIsB,CAAEiR,uBhBhLnC,SAAgCpR,GACrC,MAAO,CACLjB,KAAMX,EACN4B,SgB6K8DwB,cAAaC,wBAAuBM,kBAAvF8D,CAAyG6K,wBC5LlHnB,GAAM,SAAAlN,GAAA,IAAE6M,EAAF7M,EAAE6M,SAAUC,EAAZ9M,EAAY8M,gBAAiBC,EAA7B/M,EAA6B+M,UAAW1M,EAAxCL,EAAwCK,OAAQgP,EAAhDrP,EAAgDqP,OAAhD,OACVxM,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WAAWI,QAASiM,EAAOhM,YAAWhD,IACnDwC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBAAiB6J,GAChChK,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBAAf,IAAiC8J,EAAjC,MAEFjK,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBAAiBgB,MAAO,CAAC+E,gBAAe,OAAAlM,OAASkQ,EAAT,WA+D9CuC,GAhDM,SAAAC,GAAA,IAAEnT,EAAFmT,EAAEnT,MAAOoT,EAATD,EAASC,WAAYH,EAArBE,EAAqBF,OAArB,OACnBxM,EAAAC,EAAAC,cAAC0M,GAAA,EAAIC,UAAL,CAAezS,GAAG,oBAAoB0S,iBAAiB,SACrD9M,EAAAC,EAAAC,cAAC6M,GAAA,EAAD,CAAK5M,UAAU,YAEXH,EAAAC,EAAAC,cAACkD,EAAA,EAAD,CAAK4J,QAAQ,QACXhN,EAAAC,EAAAC,cAACsD,EAAA,EAAD,CAASrD,UAAU,cAAc8M,SAAS,SAA1C,SACAjN,EAAAC,EAAAC,cAACsD,EAAA,EAAD,CAASrD,UAAU,cAAc8M,SAAS,UAA1C,eAIFjN,EAAAC,EAAAC,cAAC0M,GAAA,EAAIM,QAAL,CAAaC,WAAS,GACpBnN,EAAAC,EAAAC,cAAC0M,GAAA,EAAIQ,KAAL,CAAUH,SAAS,SACjBjN,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACZ5G,EAAMW,IAAI,SAAAmT,GAAC,OACVrN,EAAAC,EAAAC,cAACoN,GAAD,CACEjS,IAAKgS,EAAElT,IACP6P,SAAUqD,EAAErD,SACZC,gBAAiBoD,EAAEpD,gBACnBC,UAAWmD,EAAEnD,UACbsC,OAAQA,EACRhP,OAAQ6P,EAAElT,UAKlB6F,EAAAC,EAAAC,cAAC0M,GAAA,EAAIQ,KAAL,CAAUH,SAAS,UACjBjN,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACdwM,EAAWzS,IAAI,SAAAmT,GAAC,OACbrN,EAAAC,EAAAC,cAACoN,GAAD,CACEjS,IAAKgS,EAAElT,IACP6P,SAAUqD,EAAErD,SACZC,gBAAiBoD,EAAEpD,gBACnBC,UAAWmD,EAAEnD,UACbsC,OAAQA,EACRhP,OAAQ6P,EAAElT,cCwFboT,eA5Ib,SAAAA,EAAY3P,GAAM,IAAAC,EAAA,OAAA/D,OAAAgE,EAAA,EAAAhE,CAAAiE,KAAAwP,IAChB1P,EAAA/D,OAAAkE,EAAA,EAAAlE,CAAAiE,KAAAjE,OAAAmE,EAAA,EAAAnE,CAAAyT,GAAArP,KAAAH,KAAMH,KACDpE,MAAM,CACTH,KAAM,GACNmU,WAAW,EACXrJ,MAAM,EACNsJ,eAAe,IAEjB5P,EAAK8K,WAAa9K,EAAK8K,WAAWnI,KAAhB1G,OAAA8K,EAAA,EAAA9K,QAAA8K,EAAA,EAAA9K,CAAA+D,KAClBA,EAAKgC,YAAchC,EAAKgC,YAAYW,KAAjB1G,OAAA8K,EAAA,EAAA9K,QAAA8K,EAAA,EAAA9K,CAAA+D,KATHA,mFAchBE,KAAK2P,iDAIL3P,KAAKM,SAAS,CAAE8F,MAAM,yCAItBpG,KAAKM,SAAS,CAAE8F,MAAM,mKAItBnH,QAAQC,IAAI,YACR7C,EAAK2D,KAAKH,MAAMkN,MAAMC,OAAO3Q,YAChBoB,EAAQ,MAAD,cAAAxB,OAAsBI,IAC7C4B,KAAK,SAAAC,GACJ,OAAOA,IAERC,MAAM,SAAAC,GACLa,QAAQC,IAAId,mBALV9C,kBAQuBmC,EAAQ,MAAD,mBAAAxB,OAA2BI,WAAzDqT,SAEJ1P,KAAKM,SAAS,CAAChF,SACf0E,KAAKM,SAAS,CAACoP,mBACf1P,KAAKM,SAAS,CAACmP,WAAW,6IAEdnU,GAEZ2D,QAAQC,IAAI,UACZc,KAAK2P,0CAGAlQ,GAELR,QAAQC,IAAI,WACZD,QAAQC,IAAIO,GAEZO,KAAKH,MAAM+B,QAAQkC,KAAK,CACtBoB,SAAQ,SAAAjJ,OAAUwD,GAClBhE,MAAO,CAACgE,OAAQA,sCAIZ,IAAA8B,EACsCvB,KAAKvE,MAAzCH,EADFiG,EACEjG,KAAMmU,EADRlO,EACQkO,UAAWC,EADnBnO,EACmBmO,eAEnBE,EACJ3N,EAAAC,EAAAC,cAAC4C,GAAA,EAAD,KACGzJ,EAAK0F,OAGV,OACGyO,EACDxN,EAAAC,EAAAC,cAAA,OAAKC,UAAU,+BACbH,EAAAC,EAAAC,cAAA,OAAK9F,GAAG,kBACN4F,EAAAC,EAAAC,cAAA,OAAK9F,GAAG,uBACN4F,EAAAC,EAAAC,cAAA,OAAK9F,GAAG,kBAAkB+G,MAAO,CAAC+E,gBAAe,OAAAlM,OAASX,EAAKwB,gBAAd,QACjDmF,EAAAC,EAAAC,cAAA,OAAK9F,GAAG,mBACN4F,EAAAC,EAAAC,cAAA,OAAK9F,GAAG,yBACN4F,EAAAC,EAAAC,cAAA,OAAK9F,GAAG,oBAAoBf,EAAK2F,UAMjCgB,EAAAC,EAAAC,cAAA,KAAGC,UAAU,oBAAoBI,QAASxC,KAAK4K,aAC/C3I,EAAAC,EAAAC,cAAC+D,GAAA,EAAD,CAAOC,OAAO,QAAQC,KAAMpG,KAAKvE,MAAM2K,KAAMC,OAAQrG,KAAK8B,aACxDG,EAAAC,EAAAC,cAAC0N,GAAD,CACEhE,OAAQ7L,KAAKH,MAAMkN,MAAMC,OAAO3Q,GAChCiF,IAAKhG,EAAKgG,IACVxE,gBAAiBxB,EAAKwB,gBACtB8Q,QAAStS,EAAKwU,OAAOlC,QACrBE,SAAUxS,EAAKwU,OAAOhC,SACtBE,OAAQ1S,EAAKwU,OAAO9B,OACpBE,YAAa5S,EAAKwU,OAAO5B,YACzBE,cAAepO,KAAKoO,cAAc3L,KAAKzC,MACvC8B,YAAa9B,KAAK8B,gBAIxBG,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OAAK9F,GAAG,oBAAoBf,EAAKgG,KACjCW,EAAAC,EAAAC,cAAA,OAAK9F,GAAG,kBACLf,EAAKwU,OAAOlC,QAAQjS,OAAS,GAC5BsG,EAAAC,EAAAC,cAAA,KAAG4N,KAAI,uBAAA9T,OAAyBX,EAAKwU,OAAOlC,UAAY3L,EAAAC,EAAAC,cAAA,KAAGC,UAAU,0BAEtE9G,EAAKwU,OAAOhC,SAASnS,OAAS,GAC7BsG,EAAAC,EAAAC,cAAA,KAAG4N,KAAI,+BAAA9T,OAAiCX,EAAKwU,OAAOhC,WAAY7L,EAAAC,EAAAC,cAAA,KAAGC,UAAU,8BAE9E9G,EAAKwU,OAAO9B,OAAOrS,OAAS,GAC3BsG,EAAAC,EAAAC,cAAA,KAAG4N,KAAI,sBAAA9T,OAAwBX,EAAKwU,OAAO9B,SAAU/L,EAAAC,EAAAC,cAAA,KAAGC,UAAU,yBAEnE9G,EAAKwU,OAAO5B,aACXjM,EAAAC,EAAAC,cAACyC,GAAA,EAAD,CAAgBC,UAAU,QAAQC,QAAS8K,GACzC3N,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,KAAGC,UAAU,uCAS3BH,EAAAC,EAAAC,cAAA,OAAK9F,GAAG,iBACN4F,EAAAC,EAAAC,cAAC6N,GAAD,CACExU,MAAOF,EAAKE,MACZoT,WAAYc,EACZjB,OAAQzO,KAAKyO,OAAOhM,KAAKzC,WAK/BiC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aAEbH,EAAAC,EAAAC,cAAA,OAAK9F,GAAG,0BACN4F,EAAAC,EAAAC,cAAA,OAAKC,UAAU,2BArILM,aCAhBuN,eACJ,SAAAA,EAAYpQ,GAAM,IAAAC,EAAA,OAAA/D,OAAAgE,EAAA,EAAAhE,CAAAiE,KAAAiQ,IAChBnQ,EAAA/D,OAAAkE,EAAA,EAAAlE,CAAAiE,KAAAjE,OAAAmE,EAAA,EAAAnE,CAAAkU,GAAA9P,KAAAH,KAAMH,KAaRc,aAAe,SAAAN,GACbA,EAAEO,iBAEFd,EAAKD,MACFqQ,cAAcpQ,EAAKrE,MAAMgF,KAAMX,EAAKrE,MAAMuQ,KAAMlM,EAAKrE,MAAMsN,OAC3D9K,KAAM,WACL6B,EAAKQ,SAAS,CAACG,KAAK,GAAGuL,KAAK,GAAGjD,MAAM,KACrCjJ,EAAKD,MAAM+B,QAAQkC,KAAK,OAEzB3F,MAAM,eArBT2B,EAAKrE,MAAQ,CACXgF,KAAK,GACLuL,KAAK,GACLjD,MAAM,IALQjJ,mFAWhBE,KAAKH,MAAMtB,+DAoBX,OADeyB,KAAKvE,MAAMgF,KAAK9E,OAClB,IAAY,QAClB,sDAIP,OADeqE,KAAKvE,MAAMuQ,KAAKrQ,OAClB,IAAY,QAClB,sCAGD,IAAA0I,EAAArE,KACE9C,EAAW8C,KAAKH,MAAhB3C,OACR,OACE+E,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACfH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eAAf,mBACEH,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,QAAME,SAAUrC,KAAKW,cACpBzD,EAAOC,SAAY8E,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBAAsBlF,EAAOC,SAC9D8E,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACbH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,2BAA2B+H,QAAQ,QAApD,QACAlI,EAAAC,EAAAC,cAAA,OAAKC,UAAU,4BAAf,qEAEFH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,uBACbH,EAAAC,EAAAC,cAACoC,EAAA,EAAD,CAAWgH,gBAAiBvL,KAAKoM,0BAC/BnK,EAAAC,EAAAC,cAAA,SACErG,KAAK,OACLsG,UAAU,eACV1B,MAAOV,KAAKvE,MAAMgF,KAClB6B,SAAU,SAAAjC,GAAC,OAAIgE,EAAK/D,SAAS,CAACG,KAAMJ,EAAEG,OAAOE,WAE/CuB,EAAAC,EAAAC,cAACqC,EAAA,EAAYiH,SAAb,SAINxJ,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACbH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,2BAA2B+H,QAAQ,SAApD,aACAlI,EAAAC,EAAAC,cAAA,OAAKC,UAAU,4BAAf,6FAEFH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,uBACbH,EAAAC,EAAAC,cAAA,SACErG,KAAK,OACLsG,UAAU,eACV1B,MAAOV,KAAKvE,MAAMsN,MAClBzG,SAAU,SAAAjC,GAAC,OAAIgE,EAAK/D,SAAS,CAACyI,MAAO1I,EAAEG,OAAOE,aAKpDuB,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACbH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,2BAA2B+H,QAAQ,QAApD,eACAlI,EAAAC,EAAAC,cAAA,OAAKC,UAAU,4BAAf,yFAEFH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,uBACbH,EAAAC,EAAAC,cAACoC,EAAA,EAAD,CAAWgH,gBAAiBvL,KAAKqM,0BAC/BpK,EAAAC,EAAAC,cAAA,YACEoI,KAAK,KACLC,KAAK,IACL1O,KAAK,OACLsG,UAAU,eACV1B,MAAOV,KAAKvE,MAAMuQ,KAClB1J,SAAU,SAAAjC,GAAC,OAAIgE,EAAK/D,SAAS,CAAC0L,KAAM3L,EAAEG,OAAOE,WAE/CuB,EAAAC,EAAAC,cAACqC,EAAA,EAAYiH,SAAb,SAINxJ,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAACsI,GAAA,EAAD,CAAQ3O,KAAK,SAASsG,UAAU,0CAAhC,mBAvGaM,aAsHRE,mBANf,SAAyBnH,GACvB,MAAO,CACLyB,OAAQzB,EAAMyB,SAIsB,CAAEgT,cNnFb,SAACjE,EAASC,EAAgBC,GAA1B,OAAwC,SAAChN,EAAUO,GAAa,IACtF/C,EAAe+C,IAAf/C,YACY,KAAdwP,IACDA,EAAY,mCACd,IAAM9P,EAAKM,EAAYrB,KAAKe,GAC5B,OAAO,IAAIuB,QAAQ,SAACC,EAASC,GAC3B,OAAOL,EAAQ,OAAD,cAAAxB,OAAuBI,EAAvB,UAAmC,CAAC4P,WAASC,kBAAgBC,cACxElO,KAAM,SAAAC,GAELL,IACAsB,EArC2B,CACjCrD,KtBJyB,csBKzBI,KAmC0BgC,MAGrBC,MAAM,SAAAC,GACLa,QAAQC,IAAId,GACZe,EAASb,EAASF,EAAIjB,UACtBW,UMmEiDS,eAA1CqE,CAAyDqN,IClHzDE,GARM,SAAA/Q,GAAA,IAAEgR,EAAFhR,EAAEgR,KAAYrH,GAAd3J,EAAQ4M,KAAR5M,EAAc2J,OAAd,OACnB9G,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wBACbH,EAAAC,EAAAC,cAAA,OAAK9F,GAAG,kBAAkB+G,MAAO,CAAC+E,gBAAe,OAAAlM,OAAS8M,EAAT,QAEjD9G,EAAAC,EAAAC,cAAA,OAAK9F,GAAG,wBAAwB+T,KCqBrBC,GAvBK,SAAAjR,GAAA,IAAE4M,EAAF5M,EAAE4M,KAAMvL,EAARrB,EAAQqB,KAAM6P,EAAdlR,EAAckR,UAAW3L,EAAzBvF,EAAyBuF,SAAU4L,EAAnCnR,EAAmCmR,aAAcC,EAAjDpR,EAAiDoR,UAAWC,EAA5DrR,EAA4DqR,SAA5D,OAClBxO,EAAAC,EAAAC,cAAA,OAAKC,UAAU,uBACbH,EAAAC,EAAAC,cAAA,OAAK9F,GAAG,kBACL2P,GAEH/J,EAAAC,EAAAC,cAAA,OAAK9F,GAAG,yBACN4F,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACyC,GAAA,EAAD,CAAgBC,UAAU,SAASC,QAAS7C,EAAAC,EAAAC,cAAC4C,GAAA,EAAD,KAAUtE,GAAiBuE,UAAW,KAChF/C,EAAAC,EAAAC,cAAA,OAAK9F,GAAG,0BAA0B+G,MAAO,CAAC+E,gBAAe,OAAAlM,OAASsU,EAAT,UAG7DtO,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBACbH,EAAAC,EAAAC,cAAA,KAAGuO,MAAM,2BACTzO,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wBAAwBoO,IAEzCvO,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBAAkBI,QAAS8N,GACxCrO,EAAAC,EAAAC,cAAA,KAAGC,UAAU,qBAAqBgB,MAAOuB,IACzC1C,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wBAAwBqO,OCKhCE,GApBC,SAAAvR,GAAA,IAAEwR,EAAFxR,EAAEwR,aAAcR,EAAhBhR,EAAgBgR,KAAMpE,EAAtB5M,EAAsB4M,KAAMjD,EAA5B3J,EAA4B2J,MAAO9H,EAAnC7B,EAAmC6B,SAAU0D,EAA7CvF,EAA6CuF,SAAU4L,EAAvDnR,EAAuDmR,aAAcC,EAArEpR,EAAqEoR,UAAWC,EAAhFrR,EAAgFqR,SAA+BH,GAA/GlR,EAA0FyL,KAA1FzL,EAAgG2L,cAAhG3L,EAA+GkR,WAAWO,EAA1HzR,EAA0HyR,WAAwBC,GAAlJ1R,EAAsI2R,WAAtI3R,EAAkJ0R,KAAlJ,OACd7O,EAAAC,EAAAC,cAAA,MAAApG,OAAAwR,OAAA,CAAK/K,QAASqO,EAAYzO,UAAU,WAAW0O,IAAKA,GAASF,GAC3D3O,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACbH,EAAAC,EAAAC,cAAC6O,GAAD,CACEZ,KAAMA,EACNrH,MAAOA,IAET9G,EAAAC,EAAAC,cAAC8O,GAAD,CACEjF,KAAMA,EACNvL,KAAMQ,EACNsP,aAAcA,EACdD,UAAWA,EACX3L,SAAUA,EACV6L,UAAWA,EACXC,SAAUA,OCXHS,GARC,kBACdjP,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACbH,EAAAC,EAAAC,cAAA,OAAK9F,GAAG,0BACN4F,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qBCMN+O,GARE,kBACflP,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACbH,EAAAC,EAAAC,cAAA,OAAK9F,GAAG,mBACN4F,EAAAC,EAAAC,cAAA,6CCSAuB,WAAe,CACnBpH,OAAQ,KAGJ8U,eAEJ,SAAAA,EAAYvR,GAAM,IAAAC,EAAA,OAAA/D,OAAAgE,EAAA,EAAAhE,CAAAiE,KAAAoR,IAChBtR,EAAA/D,OAAAkE,EAAA,EAAAlE,CAAAiE,KAAAjE,OAAAmE,EAAA,EAAAnE,CAAAqV,GAAAjR,KAAAH,KAAMH,KAeR+D,iBAAmB,SAAAC,GACjB/D,EAAKD,MAAM+B,QAAQkC,KAAK,CACtBC,OAAM,IAAA9H,OAAM+H,IAAGC,UAAHlI,OAAAc,EAAA,EAAAd,CAAA,GACPiI,IAAGE,MAAMpE,EAAKD,MAAMsE,SAASJ,OAAOK,QAAQ,IAAK,KACjDP,QAlBP/D,EAAKrE,MAAM,CACT4V,SAAU,GACVzC,WAAY,IAJE9O,mFAUhBE,KAAKH,MAAM8I,aACX3I,KAAKH,MAAM6L,gDAeFrP,EAAIgE,GACbA,EAAEO,iBAEFZ,KAAKH,MAAM+B,QAAQkC,KAAK,CACtBoB,SAAQ,SAAAjJ,OAAUI,GAClBZ,MAAO,CAACY,GAAIA,oFAGGA,EAAIgE,2EACrBA,EAAEsM,kBACF1N,QAAQC,IAAI,gBACNc,KAAKH,MAAML,aAAanD,0BACxB2D,KAAKH,MAAM6L,mJAGX,IAAArH,EAAArE,KAAAwB,EACoDxB,KAAKH,MAAvDrE,EADFgG,EACEhG,MAAOmB,EADT6E,EACS7E,YAAaK,EADtBwE,EACsBxE,UAAW0H,EADjClD,EACiCkD,eAEjC2C,EAAa,CAAEC,QAAS,OAAOC,MAAM,SACrCC,EAAY,CAAEF,QAAS,OAAOC,MAAM,SACpCjD,EAAevI,OAAAc,EAAA,EAAAd,CAAA,GAChB2H,GACAM,IAAGE,MAAMlE,KAAKH,MAAMsE,SAASJ,OAAOK,QAAQ,IAAK,MAchDiN,GAXH3M,EACUlJ,EAAOc,OAAO,SAAA8C,GAAA,IAAEhD,EAAFgD,EAAEhD,IAAF,OAAWY,EAAUsI,SAASlJ,KAE5CZ,GASVc,OAAO,SAAAgV,GAAA,OAAAA,EAAErF,SAAuBjO,cAAcsH,SAAShB,EAAgBhI,UAK1E,MACkB,qBAARd,EACNyG,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACoP,GAAA,EAAD,CAASC,QAASH,GACK,IAApBA,EAAS1V,OACRsG,EAAAC,EAAAC,cAACsP,GAAD,MAEAxP,EAAAC,EAAAC,cAAA,OAAK9F,GAAG,SACLgV,EAASlV,IAAI,SAAAmT,GAAC,OAEbrN,EAAAC,EAAAC,cAACoP,GAAA,EAAD,CAASjU,IAAKgS,EAAElT,IAAKsV,OAAQpC,EAAElT,KAC9B,SAAAwU,GAAY,OACX3O,EAAAC,EAAAC,cAACwP,GAAD,CACErU,IAAKgS,EAAElT,IACPyO,KAAMyE,EAAEsC,SACRxB,KAAMd,EAAErD,SACRD,KAAMsD,EAAEpD,gBACRnD,MAAOuG,EAAEnD,UACTlL,SAAUqO,EAAEhU,KAAK2F,SACjBuP,UAAWlB,EAAE/S,MAAMZ,OACnB8U,SAAUnB,EAAEtS,UAAUrB,OACtB4U,aAAcjB,EAAEhU,KAAKwB,gBACrBwT,UAAWjM,EAAK7E,aAAaiD,KAAK4B,EAAMiL,EAAElT,KAC1CyU,WAAYxM,EAAKwM,WAAWpO,KAAK4B,EAAMiL,EAAElT,KACzCuI,SAAU3H,EAAUsI,SAASgK,EAAElT,KAAOoL,EAAYH,EAClD0D,cAAepO,EAAYN,KAAOiT,EAAEhU,KAAKc,IACzCwU,aAAcA,EACdiB,SAAUxN,EAAKwN,kBAS3B5P,EAAAC,EAAAC,cAAC2P,GAAD,aA1GapP,aA0HRC,mBAAWC,YAV1B,SAAyBnH,GACvB,MAAO,CACLD,MAAOC,EAAMD,OAAQ,GACrBmB,YAAalB,EAAMkB,YAAYrB,KAC/B0B,UAAWvB,EAAMkB,YAAYrB,KAAK0B,WAAa,GAC/C0H,eAAgBjJ,EAAMkB,YAAYpB,gBAKa,CAAEmQ,cAAYE,cAAYjD,cAAYnJ,gBAA/DoD,CAA+EwO,KC/H1FW,GAXC,kBAGhB9P,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACdH,EAAAC,EAAAC,cAAA,yBC0DcQ,mBAAWC,YAP1B,SAAyBnH,GACvB,MAAM,CACJkB,YAAalB,EAAMkB,YACnBO,OAAQzB,EAAMyB,SAIiC,CAAE6B,WAAUR,eAArCqE,CAnDb,SAAA/C,GAAS,IACZlD,EAAyDkD,EAAzDlD,YAAaoC,EAA4Cc,EAA5Cd,SAAU7B,EAAkC2C,EAAlC3C,OAAQqB,EAA0BsB,EAA1BtB,YAAa4F,EAAatE,EAAbsE,SAEpD,OADAlF,QAAQC,IAAIvC,GAEVsF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACbH,EAAAC,EAAAC,cAAA,WAASC,UAAU,iBACjBH,EAAAC,EAAAC,cAAC6P,GAAA,EAAD,CAAQ7N,SAAUA,GAChBlC,EAAAC,EAAAC,cAAC8P,GAAA,EAAD,CAAOC,OAAK,EAACvU,KAAK,IAAIwU,OAAQ,SAAAtS,GAAK,OAAIoC,EAAAC,EAAAC,cAACiQ,GAADrW,OAAAwR,OAAA,CAAU5Q,YAAaA,GAAiBkD,OAC/EoC,EAAAC,EAAAC,cAAC8P,GAAA,EAAD,CAAOC,OAAK,EAACvU,KAAK,SAAS0U,UAAWjB,KACtCnP,EAAAC,EAAAC,cAAC8P,GAAA,EAAD,CAAOC,OAAK,EAACvU,KAAK,UAAUwU,OAAQ,SAAAtS,GAClC,OACEoC,EAAAC,EAAAC,cAACqE,EAADzK,OAAAwR,OAAA,CACEhP,YAAaA,EACbrB,OAAQA,EACRoV,OAAQvT,EACR0C,WAAW,SACXC,QAAQ,6BACJ7B,OAIVoC,EAAAC,EAAAC,cAAC8P,GAAA,EAAD,CAAOC,OAAK,EAACvU,KAAK,UAAUwU,OAAQ,SAAAtS,GAClC,OACEoC,EAAAC,EAAAC,cAACqE,EAADzK,OAAAwR,OAAA,CACEhP,YAAaA,EACbrB,OAAQA,EACRoV,OAAQvT,EACR0C,WAAW,cACXC,QAAQ,oBACRZ,QAAM,GACFjB,OAIVoC,EAAAC,EAAAC,cAAC8P,GAAA,EAAD,CAAOtU,KAAK,0BAA0B0U,UAAYpC,KAClDhO,EAAAC,EAAAC,cAAC8P,GAAA,EAAD,CAAOtU,KAAK,YAAY0U,UAAY/F,KACpCrK,EAAAC,EAAAC,cAAC8P,GAAA,EAAD,CAAOtU,KAAK,YAAY0U,UAAY7C,KACpCvN,EAAAC,EAAAC,cAAC8P,GAAA,EAAD,CAAOtU,KAAK,WAAW0U,UAAYN,WCpC9BQ,GAXA,kBACbtQ,EAAAC,EAAAC,cAAA,UAAQ9F,GAAG,UACT4F,EAAAC,EAAAC,cAAA,OAAK9F,GAAG,eACN4F,EAAAC,EAAAC,cAAA,OAAK9F,GAAG,oBAAR,mDACA4F,EAAAC,EAAAC,cAACyF,EAAA,EAAD,CAAMC,GAAG,YACP5F,EAAAC,EAAAC,cAAA,wBCLFqQ,sMACeC,GACbzS,KAAKH,MAAMsE,SAASe,WAAauN,EAAUtO,SAASe,UACtD8B,OAAO0L,SAAS,EAAE,oCAKpB,OAAO1S,KAAKH,MAAM8S,gBARIjQ,cAYXC,eAAW6P,ICApBI,GjCCUC,YAEZpW,EACAqW,YACEC,YAAgBC,KAChBhM,OAAOiM,kBAAoBjM,OAAOiM,oBAAsB,SAAAC,GAAC,OAAIA,KiCLjDC,YAAaP,IAE/B,GAAGtT,aAAa8T,SAAS,CACvB5U,EAAsBc,aAAa8T,UACnC,IACER,GAAMzT,SAASL,EAAeuU,KAAU/T,aAAa8T,YACrD,MAAO/S,IACPuS,GAAMzT,SAASL,EAAe,MAIlC,IAgBewU,GAhBH,kBACVrR,EAAAC,EAAAC,cAACoR,EAAA,EAAD,CAAUX,MAAOA,IAEb3Q,EAAAC,EAAAC,cAACqR,EAAA,EAAD,KACEvR,EAAAC,EAAAC,cAACsR,GAAD,KACExR,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACbH,EAAAC,EAAAC,cAACuR,GAAD,MACAzR,EAAAC,EAAAC,cAACwR,GAAD,MACA1R,EAAAC,EAAAC,cAACyR,GAAD,WCzBNC,GAAcC,QACW,cAA7B9M,OAAO7C,SAAS4P,UAEe,UAA7B/M,OAAO7C,SAAS4P,UAEhB/M,OAAO7C,SAAS4P,SAAShH,MACvB,2DAsCN,SAASiH,GAAgBC,GACvBC,UAAUC,cACPtS,SAASoS,GACThW,KAAK,SAAAmW,GACJA,EAAaC,cAAgB,WAC3B,IAAMC,EAAmBF,EAAaG,WACtCD,EAAiBE,cAAgB,WACA,cAA3BF,EAAiB7Y,QACfyY,UAAUC,cAAcM,WAK1BxV,QAAQC,IAAI,6CAKZD,QAAQC,IAAI,2CAMrBf,MAAM,SAAAf,GACL6B,QAAQ7B,MAAM,4CAA6CA,KCzEjEsX,IAASvC,OAAOlQ,EAAAC,EAAAC,cAACwS,GAAD,MAAQC,SAASC,eAAe,SDcjC,WACb,GAA6C,kBAAmBX,UAAW,CAGzE,GADkB,IAAIY,IAAIC,mBAAwB/N,OAAO7C,UAC3C6Q,SAAWhO,OAAO7C,SAAS6Q,OAIvC,OAGFhO,OAAOC,iBAAiB,OAAQ,WAC9B,IAAMgN,EAAK,GAAAhY,OAAM8Y,mBAAN,sBAEPlB,IAiDV,SAAiCI,GAE/BgB,MAAMhB,GACHhW,KAAK,SAAAI,GAGkB,MAApBA,EAAS6W,SACuD,IAAhE7W,EAASM,QAAQwW,IAAI,gBAAgBC,QAAQ,cAG7ClB,UAAUC,cAAckB,MAAMpX,KAAK,SAAAmW,GACjCA,EAAakB,aAAarX,KAAK,WAC7B+I,OAAO7C,SAASoR,aAKpBvB,GAAgBC,KAGnB9V,MAAM,WACLc,QAAQC,IACN,mEArEAsW,CAAwBvB,GAIxBC,UAAUC,cAAckB,MAAMpX,KAAK,WACjCgB,QAAQC,IACN,+GAMJ8U,GAAgBC,MCzCxBwB","file":"static/js/main.b77e1f54.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/layout1.795729ba.jpg\";","module.exports = __webpack_public_path__ + \"static/media/layout2.695b1e25.jpg\";","module.exports = __webpack_public_path__ + \"static/media/layout3.0cf79b24.jpg\";","module.exports = __webpack_public_path__ + \"static/media/layout4.01bbb075.jpg\";","export const SET_CURRENT_USER = \"SET_CURRENT_USER\";\r\nexport const UPDATE_USER = \"UPDATE_USER\";\r\nexport const FAVORITE_BLOG = \"FAVORITE_BLOG\"\r\nexport const GET_FAVORITE_BLOGS = \"GET_FAVORITE_BLOGS\"\r\nexport const SHOW_FAVORITE_BLOGS = \"SHOW_FAVORITE_BLOGS\"\r\n\r\nexport const ADD_ERROR = \"ADD_ERROR\";\r\nexport const REMOVE_ERROR = \"REMOVE_ERROR\";\r\n\r\nexport const LOAD_BLOGS = \"LOAD_BLOGS\";\r\nexport const REMOVE_BLOG = \"REMOVE_BLOG\";\r\nexport const CREATE_BLOG = \"CREATE_BLOG\";\r\nexport const UPDATE_BLOG = \"UPDATE_BLOG\";\r\n\r\nexport const LOAD_POSTS = \"LOAD_POSTS\";\r\nexport const REMOVE_POST = \"REMOVE_POST\";\r\nexport const REMOVE_ALL_POSTS = \"REMOVE_ALL_POSTS\";\r\nexport const CREATE_POST = \"CREATE_POST\";\r\nexport const UPDATE_POST = \"UPDATE_POST\";","import { SET_CURRENT_USER, UPDATE_USER, FAVORITE_BLOG, GET_FAVORITE_BLOGS, SHOW_FAVORITE_BLOGS } from \"../actionTypes\";\r\n\r\nconst DEFAULT_STATE = {\r\n  isAuthenticated: false,\r\n  user: {},\r\n  showFavorites: false\r\n};\r\n\r\nexport default (state = DEFAULT_STATE, action) => {\r\n  switch(action.type){\r\n    case SET_CURRENT_USER:\r\n      return {\r\n        // turn empty object into false or if there are keys, true\r\n        isAuthenticated: !!Object.keys(action.user).length,\r\n        user: action.user,\r\n        showFavorites: false\r\n      };\r\n    case UPDATE_USER:\r\n      return {...state, user:{...state.user, profileImageUrl: action.data}}\r\n    case FAVORITE_BLOG:\r\n      // debugger;\r\n      return {...state, user:{...state.user, favorites:action.blog}};\r\n    case SHOW_FAVORITE_BLOGS:\r\n      return {...state, showFavorites:!action.boolean}\r\n    default:\r\n      return state;\r\n  }\r\n};","import { LOAD_BLOGS, REMOVE_BLOG, CREATE_BLOG, UPDATE_BLOG } from \"../actionTypes\";\r\n\r\nconst blogs = (state=[], action) => {\r\n  switch(action.type){\r\n    case LOAD_BLOGS:\r\n      return [...action.blogs];\r\n    case CREATE_BLOG:\r\n      return [...state, action.blog]\r\n    case UPDATE_BLOG:\r\n    return state.map(blog =>\r\n      (blog._id === action.id)\r\n        ? action.blog\r\n        : blog  \r\n    )\r\n    case REMOVE_BLOG:\r\n      return state.filter(blog => blog._id !== action.id);\r\n    default:\r\n      return state;\r\n  }\r\n  \r\n}\r\n\r\nexport default blogs;","import { LOAD_POSTS, REMOVE_POST, REMOVE_ALL_POSTS, CREATE_POST, UPDATE_POST } from \"../actionTypes\";\r\n\r\nconst posts = (state=[], action) => {\r\n\r\n  switch(action.type){\r\n    case LOAD_POSTS:\r\n      return [...action.posts];\r\n    case CREATE_POST:\r\n      // Adding post to start of list\r\n      return [action.post, ...state];\r\n    case UPDATE_POST:\r\n      return state.map(post=>\r\n        (post._id === action.id)\r\n          ? action.post\r\n          : post\r\n        )\r\n    case REMOVE_POST:\r\n      return state.filter(post => post._id !== action.id);\r\n    case REMOVE_ALL_POSTS:\r\n      return state;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default posts;","import { combineReducers } from \"redux\";\r\nimport currentUser from \"./currentUser\";\r\nimport errors from \"./errors\";\r\nimport blogs from \"./blogs\";\r\nimport posts from \"./posts\";\r\n\r\nconst rootReducer = combineReducers({\r\n  currentUser,\r\n  errors,\r\n  blogs,\r\n  posts\r\n});\r\n\r\nexport default rootReducer;","import { ADD_ERROR, REMOVE_ERROR } from \"../actionTypes\";\r\n\r\nexport default (state = {message: null}, action) => {\r\n  switch(action.type) {\r\n    case ADD_ERROR:\r\n      return {...state, message: action.error};\r\n    case REMOVE_ERROR:\r\n      return{...state, message:null};\r\n    default:\r\n      return state;\r\n  }\r\n};","import rootReducer from \"./reducers\";\r\nimport { createStore, applyMiddleware, compose } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport { persistReducer } from \"redux-persist\";\r\nimport storage from 'redux-persist/lib/storage' // defaults to localStorage for web\r\n\r\n// Setting up localstorage with State\r\nconst persistConfig = {\r\n  key: 'root',\r\n  storage\r\n}\r\n\r\n// Combining with the rootreducer to use in CreateStore\r\nconst persistedReducer = persistReducer(persistConfig, rootReducer);\r\n// const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nexport function configureStore(){\r\n  const store = createStore(\r\n    // persistedReducer,\r\n    rootReducer,\r\n    compose(\r\n      applyMiddleware(thunk),\r\n      window.devToolsExtension ? window.devToolsExtension() : f => f\r\n    )\r\n  );\r\n  return store;\r\n}","import axios from \"axios\";\r\n\r\nexport function setTokenHeader(token){\r\n  if(token){\r\n    axios.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\r\n  } else {\r\n    delete axios.defaults.headers.common[\"Authorization\"];\r\n  }\r\n}\r\n\r\nexport function apiCall(method, path, data){\r\n  return new Promise((resolve, reject) => {\r\n    return axios[method.toLowerCase()](path,data)\r\n      .then(res => {\r\n        return resolve(res.data);\r\n      })\r\n      .catch(err => {\r\n        return reject(err.response.data.error);\r\n      });\r\n  });\r\n}","import { ADD_ERROR, REMOVE_ERROR } from \"../actionTypes\";\r\n\r\nexport const addError = error => ({\r\n  type: ADD_ERROR,\r\n  error\r\n});\r\n\r\nexport const removeError = () => ({\r\n  type: REMOVE_ERROR\r\n});","import { apiCall, setTokenHeader } from \"../../services/api\";\r\nimport { SET_CURRENT_USER, UPDATE_USER, FAVORITE_BLOG, GET_FAVORITE_BLOGS, SHOW_FAVORITE_BLOGS } from \"../actionTypes\";\r\nimport { addError, removeError } from \"./errors\";\r\n\r\nexport function setAuthorizationToken(token){\r\n  setTokenHeader(token);\r\n}\r\n\r\nexport function setCurrentUser(user){\r\n  return {\r\n    type: SET_CURRENT_USER,\r\n    user\r\n  };\r\n}\r\n\r\nexport function updateCurrentUserImage(data){\r\n  return {\r\n    type: UPDATE_USER,\r\n    data\r\n  };\r\n}\r\n\r\nexport const setFavoriteBlog = blog => ({\r\n  type: FAVORITE_BLOG,\r\n  blog\r\n});\r\n\r\nexport const getFavoriteBlogs = blogs => ({\r\n  type: GET_FAVORITE_BLOGS,\r\n  blogs\r\n});\r\n\r\nexport const showFavoriteBlogs = boolean => ({\r\n  type: SHOW_FAVORITE_BLOGS,\r\n  boolean\r\n})\r\n\r\nexport function logout(){\r\n  return dispatch => {\r\n    localStorage.clear();\r\n    setAuthorizationToken(false);\r\n    dispatch(setCurrentUser({}));\r\n  }\r\n}\r\n\r\nexport function authUser(type, userData){\r\n  console.log(userData);\r\n  return dispatch => {\r\n    // wrap a thunk in a promise so we can wait for the API call\r\n    return new Promise((resolve, reject) => {\r\n      return apiCall(\"post\", `/api/auth/${type}`, userData)\r\n        .then(({token, ...user}) => {\r\n          localStorage.setItem(\"jwtToken\", token);\r\n          setAuthorizationToken(token);\r\n          dispatch(setCurrentUser(user));\r\n          dispatch(removeError());\r\n          resolve(); // indication that the API call succeeded\r\n        })\r\n        .catch(err => {\r\n          dispatch(addError(err.message));\r\n          reject();\r\n        });\r\n    });\r\n  };\r\n}\r\n// Add res\r\nexport const favoriteBlog = (blogId) => (dispatch, getState) => {\r\n  let { currentUser } = getState();\r\n  const user_id = currentUser.user.id;\r\n  return new Promise((resolve, reject) => {\r\n    return apiCall(\"put\", `/api/user/${user_id}/fav`, {blogId})\r\n      .then(res => {\r\n        resolve();\r\n        dispatch(setFavoriteBlog(res));\r\n      })\r\n      .catch(err => {\r\n        dispatch(addError(err.message));\r\n        console.log(err);\r\n        reject();\r\n      });\r\n  });\r\n};\r\n\r\n// export const fetchFavorites = () => (dispatch, getState) => {\r\n//   let { currentUser } = getState();\r\n//   const userId = currentUser.user.id;\r\n//   console.log(\"fetchFav\");\r\n//   return new Promise((resolve, reject) => {\r\n//     return apiCall(\"get\", `/api/user/${userId}/fav`)\r\n//       .then(res => {\r\n//         console.log(res);\r\n//         resolve();\r\n//         dispatch(getFavoriteBlogs(res));\r\n//       })\r\n//       .catch(err => {\r\n//         dispatch(addError(err.message));\r\n//         console.log(err);\r\n//         reject();\r\n//       });\r\n//   });\r\n// }","import React, { Component } from \"react\";\r\nimport { authUser } from \"../store/actions/auth\";\r\nimport { connect } from \"react-redux\";\r\nimport { removeError } from \"../store/actions/errors\";\r\n// import { fetchFavorites } from \"../store/actions/auth\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { Button } from 'react-bootstrap';\r\n\r\n\r\nclass AuthForm extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state={\r\n      email:\"\",\r\n      username:\"\",\r\n      passsword:\"\",\r\n      profileImageUrl:\"https://i.imgur.com/Mc3lrXL.jpg\",\r\n      'social.twitter': \"\",\r\n      'social.linkedin': \"\",\r\n      'social.github': \"\",\r\n      bio: \"\"\r\n      \r\n    };\r\n  }\r\n  \r\n  componentDidMount(){\r\n    // forced removal of errors on launch (otherwise if page was reloaded with an error on screen, same error would appear on open)\r\n    this.props.removeError(); \r\n  }\r\n\r\n  handleChange = (e) => {\r\n    this.setState({\r\n      [e.target.name]: e.target.value\r\n    });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    const authType = this.props.signUp ? \"signup\" : \"signin\"\r\n    //const authType = \"signin\";\r\n    this.props\r\n      .authUser(authType, this.state)\r\n      .then(() => {\r\n        // if(authType == \"signin\")\r\n        //   this.props.fetchFavorites();\r\n        //this.props.history.push(\"/\");\r\n        console.log(\"fix this area\");\r\n      }).catch(() =>{\r\n        console.log(\"No\");\r\n        return;\r\n      });\r\n  };\r\n\r\n  skip = e => {\r\n    console.log(\"skip here\");\r\n  }\r\n\r\n  render(){\r\n    const { email, username } =this.state;\r\n    const { buttonText, heading, login, signUp, errors, history, removeError, handleClose, register } = this.props;\r\n    // This if statement not working as intended, removeError is called inside Modal\r\n    if(errors.message){\r\n      const unListen = history.listen(() => {\r\n        removeError();\r\n        unListen();\r\n      })\r\n    }\r\n\r\n    return(\r\n      <div>\r\n        <div className=\"form-modal\">\r\n          <div id=\"auth-form-header\">{heading}</div>\r\n          <form onSubmit={this.handleSubmit}>\r\n            {errors.message && (<div className=\"alert alert-danger\">{errors.message}</div>)}\r\n            {signUp && (\r\n              <div className=\"form-group\">\r\n                <input type=\"text\" className=\"form-control auth-form-input\" id=\"username\" name=\"username\" onChange={this.handleChange} value={username} placeholder=\"Username\"/>\r\n              </div>\r\n            )}\r\n            <div className=\"form-group\">\r\n              <input type=\"text\" className=\"form-control auth-form-input\" id=\"email\" name=\"email\" onChange={this.handleChange} value={email} placeholder=\"Email Address\"/>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <input type=\"password\" className=\"form-control auth-form-input\" id=\"password\" name=\"password\" onChange={this.handleChange} placeholder=\"Password\"/>\r\n            </div>\r\n            <hr/>\r\n            <button className=\"btn btn-primary btn-block btn-lg form-button\">\r\n              {buttonText}\r\n            </button>\r\n          </form>\r\n        </div>\r\n        {login && (\r\n          <div className=\"auth-form-register\">\r\n            <div>First time here?</div>\r\n            <div className=\"auth-form-signup-text\" onClick={register}> Sign up!</div>\r\n          </div>\r\n        )}\r\n        {signUp && (\r\n          <div className=\"auth-form-register\">\r\n            <div>Just want to see the app?</div>\r\n            <div className=\"auth-form-signup-text\" onClick={this.skip.bind(this)}>Skip here</div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state){\r\n  return{\r\n    favorites: state.currentUser.favorites || [],\r\n    errors: state.errors\r\n  };\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, {authUser, removeError})(AuthForm));","import React from 'react';\r\nimport { Dropdown, MenuItem } from 'react-bootstrap';\r\n\r\nconst ProfileButton = ({userProfile, newBlog, logout, imageStyle, profileClicked}) => (\r\n  \r\n    <Dropdown id=\"dropdown-custom-menu\">\r\n      <div className=\"navbar-profile\" style={imageStyle} onClick={profileClicked} bsRole=\"toggle\"></div>\r\n      <Dropdown.Menu className=\"dropdown-menu\" bsRole=\"menu\" style={{padding: ''}}>\r\n        <MenuItem onClick={userProfile}><i className=\"fas fa-user\"></i> Profile</MenuItem>\r\n        <MenuItem onClick={newBlog}><i className=\"fas fa-newspaper\"></i> New Blog</MenuItem>\r\n        <MenuItem divider />\r\n        <MenuItem onClick={logout}><i className=\"fas fa-sign-out-alt\"></i> Logout</MenuItem>\r\n      </Dropdown.Menu>\r\n    </Dropdown>\r\n)\r\n\r\nexport default ProfileButton;","import React, { Component } from 'react';\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { Navbar, FormGroup, FormControl } from \"react-bootstrap\";\r\nimport qs from \"qs\";\r\n\r\nconst defaultState = {\r\n  filter: \"\"\r\n}\r\n\r\nclass SearchBox extends Component{\r\n\r\n  updateQueryParam = obj => {\r\n    this.props.history.push({\r\n      search: `?${qs.stringify({\r\n        ...qs.parse(this.props.location.search.replace(\"?\", \"\")),\r\n        ...obj\r\n      })}`\r\n    })\r\n  }\r\n\r\n  render(){\r\n\r\n    const queryParamState = {\r\n      ...defaultState,\r\n      ...qs.parse(this.props.location.search.replace(\"?\", \"\"))\r\n    }\r\n    return(\r\n      \r\n        <FormGroup>\r\n          <FormControl type=\"text\" placeholder=\"Search Blogs..\" value={queryParamState.filter} onChange={e => this.updateQueryParam({ filter: e.target.value })}/>\r\n        </FormGroup>\r\n      \r\n    )\r\n  }\r\n  \r\n}\r\n\r\nexport default withRouter(SearchBox);","import React from 'react';\r\nimport { Tooltip, OverlayTrigger } from 'react-bootstrap';\r\n\r\nconst FavouritesIcon = ({showFavourites, favorite}) => (\r\n  <OverlayTrigger placement=\"right\" overlay={<Tooltip>Toggle your favourites</Tooltip>} delayShow={300} >\r\n    <i className=\"fas fa-heart fa-2x icon-spacing\" onClick={showFavourites} style={favorite}/>\r\n  </OverlayTrigger>\r\n);\r\n\r\nexport default FavouritesIcon;","import React from 'react';\r\nimport { Navbar, Nav, NavItem } from 'react-bootstrap';\r\nimport SearchBox from \"./SearchBox\";\r\nimport FavouritesIcon from \"./FavouritesIcon\";\r\n\r\nconst CollapseItems = ({userProfile, newBlog, logout, pathname, showFavourites, favorite}) => (\r\n  <Navbar.Collapse>\r\n    <Nav>\r\n    {(pathname.includes('blogs')) && \r\n      <div>\r\n        <SearchBox />\r\n        <FavouritesIcon\r\n          showFavourites={showFavourites}\r\n          favorite={favorite}\r\n        />\r\n      </div>\r\n      }\r\n      <NavItem onClick={userProfile}>\r\n        Profile\r\n      </NavItem>\r\n      <NavItem onClick={newBlog}>\r\n        New blog\r\n      </NavItem>\r\n      <NavItem onClick={logout}>\r\n        Logout\r\n      </NavItem>\r\n    </Nav>\r\n  </Navbar.Collapse>\r\n)\r\n\r\nexport default CollapseItems;","import React from 'react';\r\nimport { Modal, Navbar, Nav, NavItem } from 'react-bootstrap';\r\nimport AuthForm from \"../AuthForm\";\r\n\r\nconst LoginItems = ({handleLogin, handleSignup, handleRegister, modalShow, modalHide, login, signup}) => (\r\n  <Navbar.Collapse>\r\n    <Nav pullRight className=\"navbar-testing\">\r\n      <NavItem onClick={handleLogin} className=\"navbar-auth\">Log In</NavItem>\r\n      <NavItem onClick={handleSignup} className=\"navbar-auth\">Sign Up</NavItem>\r\n      <Modal bsSize=\"small\" show={modalShow} onHide={modalHide} style={{top: '25%', borderRadius: '5px !important'}}>\r\n        {login &&\r\n          <AuthForm\r\n            buttonText=\"Log in\"\r\n            heading=\"Welcome back!\"\r\n            login\r\n            register={handleRegister}\r\n          />\r\n        }\r\n        {signup &&\r\n          <AuthForm\r\n            buttonText=\"Sign me up!\"\r\n            heading=\"Register at Blog@\"\r\n            signUp\r\n            // Add a skip for register\r\n          />\r\n        }\r\n      </Modal>\r\n    </Nav>\r\n  </Navbar.Collapse>\r\n)\r\n\r\nexport default LoginItems;","import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { logout, showFavoriteBlogs } from \"../store/actions/auth\";\r\nimport { Modal, Dropdown, MenuItem, Navbar, Nav, FormGroup, FormControl } from \"react-bootstrap\";\r\nimport AuthForm from \"../components/AuthForm\";\r\nimport ProfileButton from '../components/navbar/ProfileButton';\r\nimport CollapseItems from '../components/navbar/CollapseItems';\r\nimport LoginItems from '../components/navbar/LoginItems';\r\nimport SearchBox from \"../components/navbar/SearchBox\";\r\nimport FavouritesIcon from \"../components/navbar/FavouritesIcon\";\r\n\r\nclass NavbarComponent extends Component {\r\n\r\n  constructor(props){\r\n    super(props);\r\n    this.state={\r\n      show: false,\r\n      login: false,\r\n      signup: false,\r\n      isDesktop: false,\r\n      showFavs: false\r\n    }\r\n    this.handleLoginShow = this.handleLoginShow.bind(this);\r\n    this.handleSignupShow = this.handleSignupShow.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n    this.handleRegister = this.handleRegister.bind(this);\r\n    this.updatePredicate = this.updatePredicate.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.updatePredicate();\r\n    window.addEventListener(\"resize\", this.updatePredicate);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"resize\", this.updatePredicate);\r\n  }\r\n\r\n  handleClose() {\r\n    this.setState({ show: false, login: false, signup: false });\r\n  }\r\n\r\n  handleLoginShow() {\r\n    this.setState({ show: true, login: true });\r\n  }\r\n  handleSignupShow(){\r\n    this.setState({ show: true, signup: true});\r\n  }\r\n  handleRegister(){\r\n    this.handleClose();\r\n    this.handleSignupShow();\r\n  }\r\n  showFavourites(){\r\n    // console.log(this.props.currentUser.showFavorites);\r\n    this.setState({showFavs: !this.state.showFavs})\r\n    this.props.showFavoriteBlogs(this.props.currentUser.showFavorites);\r\n  }\r\n  //logout\r\n  logout = e => {\r\n    e.preventDefault();\r\n    this.props.logout();\r\n  }\r\n  profileClicked = e => {\r\n    e.preventDefault();\r\n  }\r\n  userProfile(id, e){\r\n    this.props.history.push({\r\n      pathname:`/user/${id}`,\r\n      state: {id: id}  \r\n    });\r\n  }\r\n  newBlog(id, e){\r\n    this.props.history.push({\r\n      pathname:`/users/${id}/blog/new`\r\n    });\r\n  }\r\n\r\n  updatePredicate() {\r\n    this.setState({ isDesktop: window.innerWidth > 767 });\r\n  }\r\n\r\n\r\n  render(){\r\n    const {isDesktop, show, login, signup, showFavs} = this.state;\r\n    const pathname = (this.props.history.location.pathname);\r\n    const fadedHeart = { opacity: \"0.25\",color:\"black\"}\r\n    const fullHeart = { opacity: \"0.85\",color:\"black\"}\r\n    \r\n    return(\r\n      <Navbar collapseOnSelect>\r\n        <Navbar.Header>\r\n          <Navbar.Brand>\r\n            <Link to=\"/\" id=\"navbar-title\">\r\n              Blog@\r\n            </Link>   \r\n          </Navbar.Brand>\r\n          <Navbar.Toggle/>\r\n        </Navbar.Header>\r\n        {(isDesktop) &&\r\n          <Nav>\r\n            <Navbar.Form>\r\n              {(pathname.includes('blogs')) && \r\n                <div style={{display:\"flex\", alignItems:\"center\"}}>\r\n                  <SearchBox />\r\n                  <FavouritesIcon\r\n                    showFavourites={this.showFavourites.bind(this)}\r\n                    favorite={showFavs ? fullHeart : fadedHeart}\r\n                  />\r\n                </div>\r\n                \r\n              }\r\n              \r\n            </Navbar.Form>\r\n          </Nav>\r\n        }\r\n        {this.props.currentUser.isAuthenticated ? (\r\n          <Nav pullRight className=\"navbar-testing\" >\r\n            {isDesktop ? (\r\n                <ProfileButton\r\n                  imageStyle={{backgroundImage: `url(${this.props.currentUser.user.profileImageUrl})`}}  \r\n                  profileClicked={this.profileClicked.bind(this)}\r\n                  userProfile={this.userProfile.bind(this, this.props.currentUser.user.id)}\r\n                  newBlog={this.newBlog.bind(this, this.props.currentUser.user.id)}\r\n                  logout={this.logout.bind(this)}\r\n                />\r\n              ) : (\r\n                <CollapseItems\r\n                  pathname={pathname}\r\n                  showFavourites={this.showFavourites.bind(this)}\r\n                  favorite={showFavs ? fullHeart : fadedHeart}\r\n                  userProfile={this.userProfile.bind(this, this.props.currentUser.user.id)}\r\n                  newBlog={this.newBlog.bind(this, this.props.currentUser.user.id)}\r\n                  logout={this.logout.bind(this)}\r\n                />\r\n              )}\r\n            </Nav>\r\n        ) : (\r\n          <LoginItems \r\n            handleLogin={this.handleLoginShow}\r\n            handleSignup={this.handleSignupShow}\r\n            handleRegister={this.handleRegister}\r\n            modalShow={show}\r\n            modalHide={this.handleClose}\r\n            login={login}\r\n            signup={signup}\r\n          />\r\n        )}\r\n      </Navbar>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state){\r\n  return {\r\n    currentUser: state.currentUser\r\n  };\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps,{ logout, showFavoriteBlogs })(NavbarComponent));","import React, { Component } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport AuthForm from \"../components/AuthForm\";\r\nimport { Modal } from \"react-bootstrap\";\r\n\r\nclass Homepage extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state={\r\n      show: false,\r\n      login: false,\r\n      signup: false,\r\n      timerText: 0,\r\n      spanText: \"Test Text 0\"\r\n    }\r\n    this.handleLoginShow = this.handleLoginShow.bind(this);\r\n    this.handleSignupShow = this.handleSignupShow.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n    this.handleRegister = this.handleRegister.bind(this);\r\n  }\r\n  handleClose() {\r\n    this.setState({ show: false, login: false, signup: false });\r\n  }\r\n\r\n  handleLoginShow() {\r\n    this.setState({ show: true, login: true });\r\n  }\r\n  handleSignupShow(){\r\n    this.setState({ show: true, signup: true});\r\n  }\r\n  handleRegister(){\r\n    this.handleClose();\r\n    this.handleSignupShow();\r\n  }\r\n\r\n  render(){\r\n    const { currentUser } = this.props;\r\n    \r\n    if(!currentUser.isAuthenticated){\r\n      return(\r\n        <div className=\"homepageTest\">\r\n          <ul className=\"backgroundLoop\">\r\n            <li><span></span></li>\r\n            <li><span></span></li>\r\n            <li><span></span></li>\r\n            <li><span></span></li>\r\n            <li><span></span></li>\r\n            <li><span></span></li>\r\n          </ul>\r\n          <div className=\"home-hero\">\r\n            <p id=\"titleText\">Blog@</p>\r\n            <p className=\"descText\">Welcome to Blog@, where you can create and share blogs with everyone.</p>\r\n            <p className=\"descText\">Create your first blog now about \r\n              <div className=\"slidingVertical\">\r\n                <span>Adventure</span>\r\n                <span>Literature</span>\r\n                <span>Technology</span>\r\n                <span>Sport</span>\r\n                <span>Animals</span>\r\n                <span>Food</span>\r\n              </div>\r\n            </p>\r\n            <div className=\"btnContainer\">\r\n              <button onClick={this.handleLoginShow} className=\"infoBtn\">Log In</button>\r\n              <button onClick={this.handleSignupShow} className=\"infoBtn\">Sign Up</button>\r\n              <Modal bsSize=\"small\" show={this.state.show} onHide={this.handleClose} style={{top: '25%', borderRadius: '5px !important'}}>\r\n                {this.state.login &&\r\n                  <AuthForm\r\n                    buttonText=\"Log in\"\r\n                    heading=\"Welcome back!\"\r\n                    login\r\n                    register={this.handleRegister}\r\n                    // {...props}\r\n                  />\r\n                }\r\n                {this.state.signup &&\r\n                  <AuthForm\r\n                    buttonText=\"Sign me up!\"\r\n                    heading=\"Register at Blog@\"\r\n                    signUp\r\n                    // {...props}\r\n                  />\r\n                }\r\n              </Modal>\r\n              {/* <Modal mProps=\"signin\" btnText='Log In' btnClass=\"infoBtn\" />\r\n              <Modal mProps=\"signup\" btnText='Sign Up' btnClass=\"infoBtn\" /> */}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )\r\n    }\r\n    return (\r\n      <div>\r\n        {/* Redirect if logged in to BlogList */}\r\n        <Redirect to=\"/blogs\" />\r\n        {/* <BlogList/> */}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Homepage;","import { apiCall } from \"../../services/api\";\r\nimport { addError } from \"./errors\";\r\nimport { LOAD_POSTS, REMOVE_POST, CREATE_POST, REMOVE_ALL_POSTS, UPDATE_POST } from \"../actionTypes\";\r\n\r\nexport const loadPosts = posts => ({\r\n  type: LOAD_POSTS,\r\n  posts\r\n});\r\n\r\nexport const remove = id => ({\r\n  type: REMOVE_POST,\r\n  id\r\n});\r\n\r\nexport const removeAll = blog_id => ({\r\n  type: REMOVE_ALL_POSTS,\r\n  blog_id\r\n});\r\n\r\nexport const create = post => ({\r\n  type: CREATE_POST,\r\n  post\r\n});\r\n\r\nexport const update = (post, id) => ({\r\n  type: UPDATE_POST,\r\n  post,\r\n  id\r\n})\r\n\r\nexport const fetchPosts = () => {\r\n  return dispatch => {\r\n    return apiCall(\"get\", \"/api/posts\")\r\n      .then(res => {\r\n        dispatch(loadPosts(res));\r\n      })\r\n      .catch(err => {\r\n        dispatch(addError(err.message));\r\n      });\r\n  };\r\n};\r\n\r\nexport const removePost = (user_id, blog_id, post_id) => {\r\n  return dispatch => {\r\n    return new Promise((resolve, reject) => {\r\n      return apiCall(\"delete\", `/api/users/${user_id}/blogs/${blog_id}/posts/${post_id}`)\r\n        .then(() => {\r\n          resolve();\r\n          dispatch(remove(post_id));\r\n        })\r\n        .catch(err => {\r\n          dispatch(addError(err.message));\r\n          reject();\r\n        });\r\n    });\r\n  }\r\n}\r\n\r\nexport const createPost = (title, content, image, layout, blog_id) => (dispatch, getState) => {\r\n  let {currentUser} = getState();\r\n  const id = currentUser.user.id;\r\n  return new Promise((resolve, reject) => {\r\n    return apiCall(\"post\", `/api/users/${id}/blogs/${blog_id}/posts`, {title, content, image, layout})\r\n      .then(res => {\r\n        resolve();\r\n        dispatch(create(res));\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n        dispatch(addError(err.message));\r\n        reject();\r\n      }); \r\n  });\r\n}\r\n\r\nexport const updatePost = (title, content, image, layout, blog_id, post_id) => (dispatch, getState) => {\r\n  let {currentUser} = getState();\r\n  const id = currentUser.user.id;\r\n  return new Promise((resolve, reject) => {\r\n    return apiCall(\"put\", `/api/users/${id}/blogs/${blog_id}/posts/${post_id}`, {title, content, image, layout})\r\n      .then(res => {\r\n        resolve();\r\n        dispatch(update(res, post_id));\r\n      })\r\n      .catch(err => {\r\n        dispatch(addError(err.message));\r\n        reject();\r\n      });\r\n  });\r\n};","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { removeError } from \"../store/actions/errors\";\r\nimport { updatePost } from \"../store/actions/posts\";\r\nimport { Button } from \"react-bootstrap\";\r\n\r\nclass EditPostForm extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      title: this.props.title,\r\n      content: this.props.content,\r\n      image: this.props.image,\r\n      layout: this.props.layout\r\n    };\r\n  }\r\n\r\n  componentDidMount(){\r\n    // forced removal of errors on launch (otherwise if page was reloaded with an error on screen, same error would appear on open)\r\n    this.props.removeError(); \r\n  }\r\n\r\n  handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    // Need to pass blog id and post id\r\n    await this.imageChecker(this.state.image);\r\n    await this.props.updatePost(this.state.title, this.state.content, this.state.image, this.state.layout, this.props.blogId, this.props.postId)\r\n      .then(() => {\r\n        this.setState({title:\"\", content:\"\"});\r\n        this.props.handleClose();\r\n      })\r\n      .catch(() => {\r\n        return;\r\n      })    \r\n  }\r\n  imageChecker(str){\r\n    if(!str.includes('i.imgur.com')){\r\n      this.setState({image: ''});\r\n      this.setState({layout:1});\r\n    } \r\n  }\r\n  handleRadioButton(val){\r\n    this.setState({\r\n      layout: val\r\n    });\r\n  }\r\n\r\n  render(){\r\n\r\n    const { history, errors, removeError, handleClose } = this.props;\r\n\r\n    if(errors.message){\r\n      const unListen = history.listen(() => {\r\n        removeError();\r\n        unListen();\r\n      })\r\n    }\r\n\r\n    return(\r\n      <div className=\"form-modal\">\r\n        <div className=\"form-header\">Edit Post</div>\r\n        <hr/>\r\n        <form onSubmit={this.handleSubmit}>\r\n        {errors.message && (<div className=\"alert alert-danger\">{errors.message}</div>)}\r\n          <div className=\"input-section\">\r\n            <div className=\"input-section-text\">\r\n              <label className=\"input-section-text-title\" htmlFor=\"title\">Title</label>\r\n              <div className=\"input-section-text-extra\">Create a short name for your blog post.</div>\r\n            </div>\r\n            <div className=\"input-section-input\">\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                value={this.state.title}\r\n                onChange={e => this.setState({title: e.target.value})}\r\n              />\r\n            </div>\r\n          </div>\r\n          <hr/>\r\n          <div className=\"input-section\">\r\n            <div className=\"input-section-text\">\r\n              <label className=\"input-section-text-title\" htmlFor=\"image\">Post Image and Layout</label>\r\n              <div className=\"input-section-text-extra\">Use imgur.com to use an image and select your layout type</div>\r\n            </div>\r\n            <div className=\"input-section-input\">\r\n              <div>\r\n                <div className=\"social-size\">Image Url</div>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  value={this.state.image}\r\n                  onChange={e => this.setState({image: e.target.value})}\r\n                />\r\n              </div>\r\n              <div className=\"social-size\">Select your layout</div>\r\n              <div className=\"input-section-radiobuttons\">\r\n                <div>\r\n                  <div className=\"layout-images\" style={{backgroundImage: `url(${require(\"../images/layout1.jpg\")})`}}></div>\r\n                  <input type=\"radio\" checked={this.state.layout === 1} onChange={() => this.handleRadioButton(1)}/>\r\n                </div>\r\n                <div>\r\n                  <div className=\"layout-images\" style={{backgroundImage: `url(${require(\"../images/layout2.jpg\")})`}}></div>\r\n                  <input type=\"radio\" checked={this.state.layout === 2} onChange={() => this.handleRadioButton(2)}/>\r\n                </div>\r\n                <div>\r\n                  <div className=\"layout-images\" style={{backgroundImage: `url(${require(\"../images/layout3.jpg\")})`}}></div>\r\n                  <input type=\"radio\" checked={this.state.layout === 3} onChange={() => this.handleRadioButton(3)}/>\r\n                </div>\r\n                <div>\r\n                  <div className=\"layout-images\" style={{backgroundImage: `url(${require(\"../images/layout4.jpg\")})`}}></div>\r\n                  <input type=\"radio\" checked={this.state.layout === 4} onChange={() => this.handleRadioButton(4)}/>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <hr/>\r\n          <div className=\"input-section\">\r\n            <div className=\"input-section-text\">\r\n              <label className=\"input-section-text-title\" htmlFor=\"content\">Content</label>\r\n              <div className=\"input-section-text-extra\">Write up your blog post and keep it as detailed and interesting as possible, you will have the ability to edit this post later on.</div>\r\n            </div>\r\n            <div className=\"input-section-input\">\r\n              <textarea\r\n                cols=\"30\"\r\n                rows=\"10\"\r\n                className=\"form-control\"\r\n                value={this.state.content}\r\n                onChange={e => this.setState({content: e.target.value})}\r\n              />\r\n            </div>\r\n          </div>\r\n          <hr/>\r\n          <div className=\"input-buttons\">\r\n            <Button onClick={handleClose} className=\"form-button\">\r\n              Cancel\r\n            </Button>\r\n            <Button type=\"submit\" className=\"btn btn-success form-button\" style={{marginLeft: '5px'}}>\r\n              Save changes\r\n            </Button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state){\r\n  return {\r\n    errors: state.errors\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, { updatePost, removeError })(EditPostForm);","import React, { Component } from \"react\";\r\nimport Moment from \"react-moment\";\r\nimport { Modal, Dropdown, MenuItem } from \"react-bootstrap\";\r\nimport EditPostForm from \"../containers/EditPostForm\";\r\n\r\nclass Post extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state={\r\n      show:false\r\n    }\r\n    this.handleShow = this.handleShow.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n  }\r\n\r\n  handleClose() {\r\n    this.setState({ show: false });\r\n  }\r\n\r\n  handleShow() {\r\n    this.setState({ show: true });\r\n  }\r\n  handleClick(e){\r\n    e.preventDefault();\r\n    // Find out if this is needed?\r\n    // this.props.onClick(e);\r\n  }\r\n\r\n  render(){\r\n    const {title, content, image, layout, username, date, updatedAt, isCorrectUser, removePost, postId, blogId} = this.props;\r\n    return(\r\n\r\n      <div id=\"post-container\">\r\n        <div id=\"post-title\">{title}</div>\r\n        <div id=\"post-details\">\r\n          <div className=\"post-details-text\">Article by {username}</div>\r\n          <div> | </div>\r\n          <div className=\"post-details-text\">\r\n            {/* Shorthand text here would break the conditional rendering */}\r\n            { this.props.date === this.props.updatedAt ? (\r\n              <Moment fromNow>\r\n                {date}\r\n              </Moment>\r\n              ):(\r\n              <div><Moment fromNow>{date}</Moment> (last updated <Moment fromNow>{updatedAt}</Moment>)</div>\r\n              )}\r\n          </div>\r\n          {isCorrectUser && (\r\n            <div id=\"post-edit\">\r\n              <Dropdown id=\"dropdown-custom-menu\">\r\n              <i className=\"far fa-edit fa-2x edit-icon\" onClick={this.handleClick.bind(this)} bsRole=\"toggle\"/>\r\n                <Dropdown.Menu className=\"dropdown-menu\" bsRole=\"menu\" style={{padding: ''}}>\r\n                  <MenuItem onClick={this.handleShow}>Edit Post</MenuItem>\r\n                  <MenuItem divider/>\r\n                  <MenuItem onClick={removePost}>Delete Post</MenuItem>\r\n                </Dropdown.Menu>\r\n              </Dropdown>\r\n              <Modal bsSize=\"large\" show={this.state.show} onHide={this.handleClose}>\r\n                <EditPostForm\r\n                  title={title}\r\n                  content={content}\r\n                  image={image}\r\n                  layout={layout}\r\n                  blogId={blogId}\r\n                  postId={postId}\r\n                  handleClose={this.handleClose}\r\n                />\r\n              </Modal>\r\n            </div>\r\n            )}\r\n          </div>\r\n        {layout === 1 && (\r\n          <div>\r\n            <div className=\"post-content\">{content}</div>\r\n          </div>\r\n        )}\r\n        {layout === 2 && (\r\n          <div>\r\n            <div className=\"post-layout2-image\" style={{backgroundImage: `url(${image})`}}></div>\r\n            <div className=\"post-content\">{content}</div>\r\n          </div>\r\n        )}\r\n        {layout === 3 && (\r\n          <div>\r\n            <div className=\"post-layout3-image\" style={{backgroundImage: `url(${image})`}}></div>\r\n            <div className=\"post-content\">{content}</div>\r\n          </div>\r\n        )}\r\n        {layout === 4 && (\r\n          <div>\r\n            <div className=\"post-layout4-image\" style={{backgroundImage: `url(${image})`}}></div>\r\n            <div className=\"post-content\">{content}</div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Post;","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { removeError } from \"../store/actions/errors\";\r\nimport { createPost } from \"../store/actions/posts\";\r\nimport { Button, FormControl, FormGroup } from \"react-bootstrap\";\r\n\r\nclass PostForm extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      title:\"\",\r\n      image:\"\",\r\n      content:\"\",\r\n      layout: 1\r\n    };\r\n  }\r\n\r\n  componentDidMount(){\r\n    // forced removal of errors on launch (otherwise if page was reloaded with an error on screen, same error would appear on open)\r\n    this.props.removeError(); \r\n  }\r\n\r\n  handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    await this.imageChecker(this.state.image);\r\n    await this.props\r\n      .createPost(this.state.title, this.state.content, this.state.image, this.state.layout, this.props.blogId)\r\n      .then( () =>{\r\n        this.props.handleClose();\r\n      })\r\n      .catch(() => {\r\n        return;\r\n      });\r\n    \r\n    // createpost\r\n  }\r\n  \r\n  imageChecker(str){\r\n    if(!str.includes('i.imgur.com')){\r\n      this.setState({image: ''});\r\n      this.setState({layout:1});\r\n    } \r\n  }\r\n\r\n  handleRadioButton(val){\r\n    this.setState({\r\n      layout: val\r\n    });\r\n  }\r\n  getValidationTitleState() {\r\n    const length = this.state.title.length;\r\n    if (length > 100) return 'error';\r\n    return null;\r\n  }\r\n\r\n  render(){\r\n\r\n    const { history, errors, removeError, handleClose } = this.props;\r\n\r\n    if(errors.message){\r\n      const unListen = history.listen(() => {\r\n        removeError();\r\n        unListen();\r\n      })\r\n    }\r\n\r\n    return(\r\n      <div className=\"form-modal\">\r\n        <div className=\"form-header\">Create Post</div>\r\n        <hr/>\r\n        <form onSubmit={this.handleSubmit}>\r\n        {errors.message && (<div className=\"alert alert-danger\">{errors.message}</div>)}\r\n          <div className=\"input-section\">\r\n            <div className=\"input-section-text\">\r\n              <label className=\"input-section-text-title\" htmlFor=\"title\">Title</label>\r\n              <div className=\"input-section-text-extra\">Create a short name for your blog post.</div>\r\n            </div>\r\n            <div className=\"input-section-input\">\r\n              <FormGroup validationState={this.getValidationTitleState()}>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  value={this.state.title}\r\n                  onChange={e => this.setState({title: e.target.value})}\r\n                />\r\n                <FormControl.Feedback/>\r\n              </FormGroup>\r\n            </div>\r\n          </div>\r\n          <hr/>\r\n          <div className=\"input-section\">\r\n            <div className=\"input-section-text\">\r\n              <label className=\"input-section-text-title\" htmlFor=\"image\">Post Image and Layout</label>\r\n              <div className=\"input-section-text-extra\">Use imgur.com to use an image and select your layout type</div>\r\n            </div>\r\n            <div className=\"input-section-input\">\r\n              <div>\r\n                <div className=\"social-size\">Image Url</div>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  value={this.state.image}\r\n                  onChange={e => this.setState({image: e.target.value})}\r\n                />\r\n              </div>\r\n              <div className=\"social-size\">Select your layout</div>\r\n              <div className=\"input-section-radiobuttons\">\r\n                <div>\r\n                  <div className=\"layout-images\" style={{backgroundImage: `url(${require(\"../images/layout1.jpg\")})`}}></div>\r\n                  <input type=\"radio\" checked={this.state.layout === 1} onChange={() => this.handleRadioButton(1)}/>\r\n                </div>\r\n                <div>\r\n                  <div className=\"layout-images\" style={{backgroundImage: `url(${require(\"../images/layout2.jpg\")})`}}></div>\r\n                  <input type=\"radio\" checked={this.state.layout === 2} onChange={() => this.handleRadioButton(2)}/>\r\n                </div>\r\n                <div>\r\n                  <div className=\"layout-images\" style={{backgroundImage: `url(${require(\"../images/layout3.jpg\")})`}}></div>\r\n                  <input type=\"radio\" checked={this.state.layout === 3} onChange={() => this.handleRadioButton(3)}/>\r\n                </div>\r\n                <div>\r\n                  <div className=\"layout-images\" style={{backgroundImage: `url(${require(\"../images/layout4.jpg\")})`}}></div>\r\n                  <input type=\"radio\" checked={this.state.layout === 4} onChange={() => this.handleRadioButton(4)}/>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <hr/>\r\n          <div className=\"input-section\">\r\n            <div className=\"input-section-text\">\r\n              <label className=\"input-section-text-title\" htmlFor=\"content\">Content</label>\r\n              <div className=\"input-section-text-extra\">Write up your blog post and keep it as detailed and interesting as possible, you will have the ability to edit this post later on.</div>\r\n            </div>\r\n            <div className=\"input-section-input\">\r\n              <textarea\r\n                cols=\"30\"\r\n                rows=\"10\"\r\n                className=\"form-control\"\r\n                value={this.state.content}\r\n                onChange={e => this.setState({content: e.target.value})}\r\n              />\r\n            </div>\r\n          </div>\r\n          <hr/>\r\n          <div className=\"input-buttons\">\r\n            <Button onClick={handleClose} className=\"form-button\">\r\n              Cancel\r\n            </Button>\r\n            <Button type=\"submit\" className=\"btn btn-success form-button\" style={{marginLeft: '5px'}}>\r\n              Create Blog Post\r\n            </Button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state){\r\n  return {\r\n    errors: state.errors\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, { createPost, removeError })(PostForm);","import { apiCall } from \"../../services/api\";\r\nimport { addError } from \"./errors\";\r\nimport { LOAD_BLOGS, REMOVE_BLOG, CREATE_BLOG, UPDATE_BLOG } from \"../actionTypes\";\r\n\r\nexport const loadBlogs = blogs => ({\r\n  type: LOAD_BLOGS,\r\n  blogs\r\n});\r\n\r\nexport const removeBlog = id => ({\r\n  type: REMOVE_BLOG,\r\n  id\r\n});\r\n\r\nexport const createBlog = blog => ({\r\n  type: CREATE_BLOG,\r\n  blog\r\n});\r\n\r\nexport const update = (blog, id) => ({\r\n  type: UPDATE_BLOG,\r\n  blog,\r\n  id\r\n});\r\n\r\n\r\n\r\nexport const fetchBlogs = () => {\r\n  return dispatch => {\r\n    return apiCall(\"get\", \"/api/blogs\")\r\n      .then(res => {\r\n        //debugger;\r\n        dispatch(loadBlogs(res));\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n        dispatch(addError(err.messsage));\r\n      });\r\n  };\r\n};\r\n\r\nexport const createNewBlog = (blogName,blogDescription,blogImage) => (dispatch, getState) => {\r\n  let {currentUser} = getState();\r\n  if(blogImage === \"\")\r\n    blogImage = \"https://i.imgur.com/Lnhq6yc.jpg\";\r\n  const id = currentUser.user.id;\r\n  return new Promise((resolve, reject) => {\r\n    return apiCall(\"post\", `/api/users/${id}/blogs`, {blogName,blogDescription,blogImage})\r\n      .then( res => {\r\n        //add a dispatch?\r\n        resolve();\r\n        dispatch(createBlog(res));\r\n        \r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n        dispatch(addError(err.message));\r\n        reject();\r\n      });\r\n  });\r\n};\r\n\r\nexport const updateBlog = (blogName, blogDescription, blogImage, blogId) => (dispatch, getState) => {\r\n  let {currentUser} = getState();\r\n  const userId = currentUser.user.id;\r\n  return new Promise((resolve, reject) => {\r\n    return apiCall(\"put\", `/api/users/${userId}/blogs/${blogId}`, {blogName,blogDescription,blogImage})\r\n      .then( res => {\r\n        resolve();\r\n        dispatch(update(res, blogId));\r\n      })\r\n      .catch(err =>{\r\n        dispatch(addError(err.message));\r\n        console.log(err);\r\n        reject();\r\n      }); \r\n  });\r\n  \r\n};\r\n\r\nexport const deleteBlog = (blogId) => (dispatch, getState) => {\r\n  let {currentUser} = getState();\r\n  const userId = currentUser.user.id;\r\n  return apiCall(\"delete\", `/api/users/${userId}/blogs/${blogId}`)\r\n    .then(res => {\r\n      dispatch(removeBlog(blogId));\r\n    })\r\n    .catch(err => {\r\n      dispatch(addError(err.message));\r\n    });\r\n}","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { removeError } from \"../store/actions/errors\";\r\nimport { updateBlog } from \"../store/actions/blogs\";\r\nimport { Button, FormControl, FormGroup } from \"react-bootstrap\";\r\n\r\nclass EditBlogForm extends Component {\r\n\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      name:this.props.blogName,\r\n      desc: this.props.blogDescription,\r\n      image:this.props.blogImage\r\n    };\r\n  }\r\n\r\n  componentDidMount(){\r\n    // forced removal of errors on launch (otherwise if page was reloaded with an error on screen, same error would appear on open)\r\n    this.props.removeError(); \r\n  }\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    this.props\r\n      .updateBlog(this.state.name, this.state.desc, this.state.image, this.props.blogId)\r\n      .then(() => {\r\n        this.props.handleClose();\r\n      })\r\n      .catch(() => {\r\n        return;\r\n      });\r\n  };\r\n\r\n  getValidationNameState() {\r\n    const length = this.state.name.length;\r\n    if (length > 100) return 'error';\r\n    return null;\r\n  }\r\n  getValidationDescState() {\r\n    const length = this.state.desc.length;\r\n    if (length > 200) return 'error';\r\n    return null;\r\n  }\r\n\r\n  render(){\r\n    const { history, errors, removeError, handleClose } = this.props;\r\n\r\n    if(errors.message){\r\n      const unListen = history.listen(() => {\r\n        removeError();\r\n        unListen();\r\n      })\r\n    }\r\n\r\n    return(\r\n      <div className=\"form-modal\">\r\n        <div className=\"form-header\">Edit Blog</div>\r\n        <hr/>\r\n        <form onSubmit={this.handleSubmit}>\r\n        {errors.message && (<div className=\"alert alert-danger\">{errors.message}</div>)}\r\n          <div className=\"input-section\">\r\n            <div className=\"input-section-text\">\r\n              <label className=\"input-section-text-title\" htmlFor=\"name\">Name</label>\r\n              <div className=\"input-section-text-extra\">Create a blog about anything! but make sure the name is relevant</div>\r\n            </div>\r\n            <div className=\"input-section-input\">\r\n              <FormGroup validationState={this.getValidationNameState()}>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  value={this.state.name}\r\n                  onChange={e => this.setState({name: e.target.value})}\r\n                />\r\n                <FormControl.Feedback />\r\n              </FormGroup>\r\n            </div>\r\n          </div>\r\n          <hr/>\r\n          <div className=\"input-section\">\r\n            <div className=\"input-section-text\">\r\n              <label className=\"input-section-text-title\" htmlFor=\"image\">Image Url</label>\r\n              <div className=\"input-section-text-extra\">Use imgur.com for hosting your blog image. Leave input blank for the default background.</div>\r\n            </div>\r\n            <div className=\"input-section-input\">\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                value={this.state.image}\r\n                onChange={e => this.setState({image: e.target.value})}\r\n              />\r\n            </div>\r\n          </div>\r\n          <hr/>\r\n          <div className=\"input-section\">\r\n            <div className=\"input-section-text\">\r\n              <label className=\"input-section-text-title\" htmlFor=\"desc\">Description</label>\r\n              <div className=\"input-section-text-extra\">Describe best your blog and what users should expect from your continued blog posts.</div>\r\n            </div>\r\n            <div className=\"input-section-input\">\r\n            <FormGroup validationState={this.getValidationDescState()}>\r\n              <textarea\r\n                cols=\"30\"\r\n                rows=\"5\"\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                value={this.state.desc}\r\n                onChange={e => this.setState({desc: e.target.value})}\r\n              />\r\n              <FormControl.Feedback />\r\n              </FormGroup>\r\n            </div>\r\n          </div>\r\n          <hr/>\r\n          <div className=\"input-buttons\">\r\n            <Button onClick={handleClose} className=\"form-button\">\r\n              Cancel\r\n            </Button>\r\n            <Button type=\"submit\" className=\"btn btn-success form-button\" style={{marginLeft: '5px'}}>\r\n              Save Changes\r\n            </Button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state){\r\n  return {\r\n    errors: state.errors\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, { updateBlog, removeError })(EditBlogForm);","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Post from \"../components/Post\";\r\n// import Modal from \"../containers/Modal\";\r\nimport PostForm from \"../containers/PostForm\";\r\nimport EditBlogForm from \"../containers/EditBlogForm\";\r\nimport Moment from \"react-moment\";\r\nimport { fetchBlogs, deleteBlog } from \"../store/actions/blogs\";\r\nimport { favoriteBlog } from \"../store/actions/auth\";\r\nimport { fetchPosts, removePost, updatePost } from \"../store/actions/posts\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { Modal, Dropdown, MenuItem, Button } from 'react-bootstrap';\r\n\r\nclass Blog extends Component {\r\n\r\n  constructor(props){\r\n    super(props);\r\n    this.state={\r\n      show: false,\r\n      newPost: false,\r\n      editBlog: false\r\n    }\r\n    this.handleNewPostShow = this.handleNewPostShow.bind(this);\r\n    this.handleEditBlogShow = this.handleEditBlogShow.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n    this.handleClick = this.handleClick.bind(this);\r\n  }\r\n\r\n  componentDidMount(){\r\n    // Fetch blogs\r\n    // this.props.fetchBlogs();\r\n    // this.props.fetchPosts();\r\n    console.log(\"componentDidMount\");\r\n    \r\n  }\r\n\r\n  handleClick(e){\r\n    e.preventDefault();\r\n    // this.props.onClick(e);\r\n  }\r\n  \r\n  deleteBlog = e => {\r\n    e.preventDefault();\r\n    this.props\r\n      .deleteBlog(this.props.location.state.id)\r\n      .then(() => {\r\n        this.props.history.push(\"/\");\r\n      })\r\n      .catch(() => {\r\n        return;\r\n      });\r\n  }\r\n\r\n  userProfile(id,e){\r\n    this.props.history.push({\r\n      pathname:`/user/${id}`,\r\n      state: {id: id}  \r\n    });\r\n  }\r\n\r\n  favoriteBlog(id, e){\r\n    this.props.favoriteBlog(id);\r\n    e.stopPropagation();\r\n  }\r\n\r\n  editBlog = e => {\r\n    e.preventDefault();\r\n    \r\n  }\r\n  handleClose() {\r\n    this.setState({ show: false, newPost: false, editBlog: false, editPost: false });\r\n  }\r\n\r\n  handleNewPostShow() {\r\n    this.setState({ show: true, newPost: true });\r\n  }\r\n  handleEditBlogShow(){\r\n    this.setState({ show: true, editBlog: true});\r\n  }\r\n  handleEditPostShow(){\r\n    this.setState({ show: true, editPost: true})\r\n  }\r\n\r\n  // handleClick(e){\r\n  //   e.preventDefault();\r\n\r\n  //   // Find out if this is needed?\r\n  //   this.props.onClick(e);\r\n  // }\r\n\r\n  render(){\r\n    const { blogs, posts, currentUser, removePost, favorites } = this.props;\r\n    const fadedHeart = { opacity: \"0.25\",color:\"black\"}\r\n    const fullHeart = { opacity: \"0.85\",color:\"black\"}\r\n    \r\n    let selectedB = blogs.find(blog => blog._id === this.props.match.params.id);\r\n    let postList = posts.filter(post => post.blog._id === this.props.match.params.id);\r\n    let blogPosts = postList.map(p => (\r\n      <Post\r\n        key={p._id}\r\n        title={p.title}\r\n        content={p.content}\r\n        image={p.imageUrl}\r\n        layout={p.layout}\r\n        username={p.user.username}\r\n        date={p.createdAt}\r\n        updatedAt={p.updatedAt}\r\n        postId={p._id}\r\n        blogId={p.blog._id}\r\n        removePost={removePost.bind(this, p.user._id, p.blog._id, p._id)}\r\n        isCorrectUser={currentUser === p.user._id}\r\n      />\r\n    ));\r\n    \r\n    return(\r\n      (typeof selectedB!=='undefined')?\r\n      <div className=\"container blog-container\">\r\n        <div id=\"blog-header-title\">\r\n          <div id=\"blog-blogname\">{selectedB.blogName}</div>\r\n          <div id=\"blog-favourite\">\r\n            <i\r\n              className=\"fas fa-heart fa-3x\"\r\n              style={favorites.includes(selectedB._id) ? fullHeart : fadedHeart}\r\n              onClick={this.favoriteBlog.bind(this, selectedB._id)}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div id=\"blog-header\">\r\n          <div id=\"blog-image\" style={{backgroundImage: `url(${selectedB.blogImage})`}}></div> \r\n        </div>\r\n        <div id=\"blog-information\">\r\n            <div className=\"blog-profile\">\r\n              <div id=\"blog-profile-image\" onClick={this.userProfile.bind(this, selectedB.user._id)} style={{backgroundImage: `url(${selectedB.user.profileImageUrl})`}}></div>\r\n              <div id=\"blog-blogowner\">\r\n                <div className=\"blog-username\" onClick={this.userProfile.bind(this, selectedB.user._id)}>by {selectedB.user.username}</div>\r\n              </div>\r\n            </div>\r\n            <div id=\"blog-description\">\r\n              <div id=\"blog-description-text\">{selectedB.blogDescription}</div>\r\n              <div id=\"blog-description-info\">\r\n                <div id=\"blog-created-date\">\r\n                  <div>Last Update: <Moment format=\"Do MMM YYYY\">{selectedB.updatedAt}</Moment></div>\r\n                </div> \r\n                <Modal bsSize=\"large\" show={this.state.show} onHide={this.handleClose}>\r\n                  {this.state.newPost && \r\n                    <PostForm\r\n                      blogId={this.props.match.params.id}\r\n                      handleClose={this.handleClose}\r\n                      {...this.props}\r\n                    />\r\n                  }\r\n                  {this.state.editBlog &&\r\n                    <EditBlogForm\r\n                      blogId={this.props.match.params.id}\r\n                      handleClose={this.handleClose}\r\n                      blogName={selectedB.blogName}\r\n                      blogDescription={selectedB.blogDescription}\r\n                      blogImage={selectedB.blogImage}\r\n                      {...this.props}\r\n                    />\r\n                  }\r\n                </Modal>\r\n              </div>\r\n              \r\n            </div>\r\n            {currentUser === selectedB.user._id && (\r\n              <div>\r\n                <Dropdown id=\"dropdown-custom-menu\" pullRight>\r\n                <i className=\"far fa-edit fa-2x edit-icon\" onClick={this.handleClick} bsRole=\"toggle\"/>\r\n                  <Dropdown.Menu className=\"dropdown-menu\" bsRole=\"menu\" style={{padding: ''}}>\r\n                    <MenuItem onClick={this.handleEditBlogShow}>Edit Blog</MenuItem>\r\n                    <MenuItem divider/>\r\n                    <MenuItem onClick={this.deleteBlog}>Delete Blog</MenuItem>\r\n                  </Dropdown.Menu>\r\n                </Dropdown>\r\n              </div>\r\n            )}           \r\n          </div>\r\n        \r\n      {currentUser === selectedB.user._id && (\r\n        <div id=\"blog-owner-buttons\">\r\n        <Button className=\"btn-override\" bsSize=\"large\" onClick={this.handleNewPostShow}>New Post</Button>\r\n          {/* <button className=\"homepageBtn\" onClick={this.handleNewPostShow}>Submit a new blog post</button> */}\r\n        </div>\r\n      )}\r\n      <div className=\"post-list\">\r\n        {blogPosts}\r\n      </div>\r\n    </div>\r\n    : <div className=\"container\">\r\n        <div className=\"lds-dual-ring\"></div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state){\r\n  return {\r\n    blogs: state.blogs,\r\n    posts: state.posts,\r\n    currentUser: state.currentUser.user.id,\r\n    favorites: state.currentUser.user.favorites || []\r\n  };\r\n}\r\nexport default withRouter(connect(mapStateToProps, { fetchPosts, fetchBlogs, removePost, updatePost, deleteBlog, favoriteBlog })(Blog));","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { removeError } from \"../store/actions/errors\";\r\nimport { setAuthorizationToken, setCurrentUser } from \"../store/actions/auth\";\r\nimport jwtDecode from \"jwt-decode\";\r\nimport { Button, InputGroup } from 'react-bootstrap';\r\nimport { apiCall } from \"../services/api\";\r\nimport { updateCurrentUserImage } from \"../store/actions/auth\";\r\n\r\nclass EditProfileForm extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      profileImageUrl: this.props.profileImageUrl,\r\n      bio: this.props.bio,\r\n      twitter: this.props.twitter,\r\n      linkedin: this.props.linkedin,\r\n      github: this.props.github,\r\n      emailToggle: this.props.emailToggle\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n    // this.props.removeError(); \r\n  }\r\n\r\n   handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    // If url does not contain an i.imgur url, replace with default image\r\n    await this.profileImageChecker(this.state.profileImageUrl);\r\n    // Checking if the user entered a full url instead of just the username\r\n    await this.twitterCheck(this.state.twitter);\r\n    await this.linkedinCheck(this.state.linkedin);\r\n    await this.githubCheck(this.state.github);\r\n    // updateProfile\r\n    await this.updateUser(this.state.profileImageUrl,this.state.bio,this.state.twitter,this.state.linkedin,this.state.github,this.state.emailToggle);\r\n  }\r\n\r\n   profileImageChecker(str){\r\n    if(!str.includes('i.imgur.com'))\r\n      this.setState({profileImageUrl: 'https://i.imgur.com/Mc3lrXL.jpg'});\r\n  }\r\n\r\n  twitterCheck(str){\r\n    if(str.includes(\"twitter.com\")){\r\n      str = str.replace(/https:\\/\\/twitter.com\\//g, '');\r\n      this.setState({twitter:str}); \r\n    }\r\n  }\r\n  linkedinCheck(str){\r\n    if(str.includes(\"linkedin.com\")){\r\n      str = str.replace(/https:\\/\\/www.linkedin.com\\/in\\//g, '');\r\n      this.setState({linkedin:str}); \r\n    }\r\n  }\r\n  githubCheck(str){\r\n    if(str.includes(\"github.com\")){\r\n      str = str.replace(/https:\\/\\/github.com\\//g, '');\r\n      this.setState({github:str}); \r\n    }\r\n  }\r\n\r\n  async updateUser(profileImageUrl,bio,twitter,linkedin,github,emailToggle){\r\n    let user_id = this.props.userId\r\n    let user = await apiCall(\"put\", `/api/user/${user_id}`, {profileImageUrl,bio,twitter,linkedin,github,emailToggle})\r\n      .then(res => {\r\n        this.props.handleClose();\r\n        this.props.updateCurrentUserImage(this.state.profileImageUrl);\r\n        return res;\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n      this.props.updateProfile(user);\r\n  }\r\n\r\n  render(){\r\n    const { errors, handleClose } =this.props;\r\n    return(\r\n      <div className=\"form-modal\">\r\n        <div className=\"form-header\">Edit your profile</div>\r\n        <hr/>\r\n        <form onSubmit={(e) => this.handleSubmit(e)}>\r\n        {errors.message && (<div className=\"alert alert-danger\">{errors.message}</div>)}\r\n          <div className=\"input-section\">\r\n            <div className=\"input-section-text\">\r\n              <label className=\"input-section-text-title\" htmlFor=\"bio\">Bio</label>\r\n              <div className=\"input-section-text-extra\">Create a short Bio and let other users know a little more about you</div>\r\n            </div>\r\n            <div className=\"input-section-input\">\r\n              <textarea\r\n                cols=\"30\"\r\n                rows=\"2\"\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                value={this.state.bio}\r\n                onChange={e => this.setState({bio: e.target.value})}\r\n              />\r\n            </div>\r\n          </div>\r\n          <hr/>\r\n          <div className=\"input-section\">\r\n            <div className=\"input-section-text\">\r\n              <label htmlFor=\"image\">Profile Image URL</label>\r\n              <div className=\"input-section-text-extra\">Use imgur.com to upload a profile image to use, otherwise leave field blank to use the default profile image</div>\r\n            </div>\r\n            <div className=\"input-section-input\">\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                value={this.state.profileImageUrl}\r\n                onChange={e => this.setState({profileImageUrl: e.target.value})}\r\n              />\r\n            </div>\r\n          </div>\r\n          <hr/>\r\n          <div className=\"input-section\">\r\n            <div className=\"input-section-text\">\r\n              <label htmlFor=\"social\">Social</label>\r\n              <div className=\"input-section-text-extra\">Let users know of your other social media accounts</div>\r\n            </div>\r\n            <div className=\"input-section-input\">\r\n            <div className=\"social-size\">Twitter</div>\r\n              <InputGroup>\r\n                <InputGroup.Addon>https://twitter.com/</InputGroup.Addon>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  value={this.state.twitter}\r\n                  onChange={e => this.setState({twitter: e.target.value})}\r\n                />\r\n              </InputGroup>\r\n              <div className=\"social-size\">Linkedin</div>\r\n              <InputGroup>\r\n                <InputGroup.Addon>https://www.linkedin.com/in/</InputGroup.Addon>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  value={this.state.linkedin}\r\n                  onChange={e => this.setState({linkedin: e.target.value})}\r\n                />\r\n              </InputGroup>\r\n              <div className=\"social-size\">Github</div>\r\n              <InputGroup>\r\n                <InputGroup.Addon>https://github.com/</InputGroup.Addon>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  value={this.state.github}\r\n                  onChange={e => this.setState({github: e.target.value})}\r\n                />\r\n              </InputGroup>\r\n            </div>\r\n          </div>\r\n          <hr/>\r\n          <div className=\"input-section\">\r\n            <div className=\"input-section-text\">\r\n              <label htmlFor=\"email\">Email</label>\r\n              <div className=\"input-section-text-extra\">Tick the box to let other users contact you by email.</div>\r\n            </div>\r\n            <div className=\"input-section-input\">\r\n              {/* Toggle for Email */}\r\n              <input\r\n                type=\"checkbox\"\r\n                value={this.state.emailToggle}\r\n                defaultChecked={this.state.emailToggle}\r\n                onChange={() => this.setState({emailToggle: !this.state.emailToggle})}\r\n              />\r\n            </div>\r\n          </div>\r\n          <hr/>\r\n          <div className=\"input-buttons\">\r\n            <Button onClick={handleClose} className=\"form-button\">\r\n              Cancel\r\n            </Button>\r\n            <Button type=\"submit\" className=\"btn btn-success form-button\" style={{marginLeft: '5px'}}>\r\n              Save Changes\r\n            </Button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state){\r\n  return{\r\n    errors: state.errors\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, { updateCurrentUserImage, removeError, setAuthorizationToken, setCurrentUser })(EditProfileForm);","import React from 'react';\r\nimport { Tab, Row, Nav, NavItem } from \"react-bootstrap\";\r\n\r\nconst Blog =({blogName, blogDescription, blogImage, blogId, goBlog}) => (\r\n  <div className=\"tab-blog\" onClick={goBlog.bind(this, blogId)} >\r\n    <div className=\"tab-blog-info\">\r\n      <div className=\"tab-blog-name\">{blogName}</div>\r\n      <div className=\"tab-blog-desc\">\"{blogDescription}\"</div>\r\n    </div>\r\n    <div className=\"tab-blog-test\">\r\n      <div className=\"tab-blog-image\" style={{backgroundImage: `url(${blogImage})`}}></div>\r\n    </div>\r\n    \r\n    \r\n    \r\n    {/* <div className=\"tab-blog-image\" style={{backgroundImage: `url(${blogImage})`}}></div> */}\r\n  </div>\r\n)\r\n\r\nconst Favourite =({blogName}) => (\r\n  <div>\r\n    {blogName}\r\n  </div>\r\n)\r\n\r\nconst ProfileBlogs = ({blogs, favourites, goBlog}) => (\r\n  <Tab.Container id=\"left-tabs-example\" defaultActiveKey=\"first\">\r\n    <Row className=\"clearfix\">\r\n      {/* <Col sm={4}> */}\r\n        <Nav bsStyle=\"tabs\">\r\n          <NavItem className=\"profile-tab\" eventKey=\"first\">Blogs</NavItem>\r\n          <NavItem className=\"profile-tab\" eventKey=\"second\">Favourites</NavItem>\r\n        </Nav>\r\n      {/* </Col> */}\r\n      {/* <Col sm={8}> */}\r\n        <Tab.Content animation>\r\n          <Tab.Pane eventKey=\"first\">\r\n            <div className=\"tab-pane-container\">\r\n              {blogs.map(b => (\r\n                <Blog\r\n                  key={b._id}\r\n                  blogName={b.blogName}\r\n                  blogDescription={b.blogDescription}\r\n                  blogImage={b.blogImage}\r\n                  goBlog={goBlog}\r\n                  blogId={b._id}\r\n                />\r\n              ))}\r\n            </div>\r\n          </Tab.Pane>\r\n          <Tab.Pane eventKey=\"second\">\r\n            <div className=\"tab-pane-container\">\r\n            {favourites.map(b => (\r\n                <Blog\r\n                  key={b._id}\r\n                  blogName={b.blogName}\r\n                  blogDescription={b.blogDescription}\r\n                  blogImage={b.blogImage}\r\n                  goBlog={goBlog}\r\n                  blogId={b._id}\r\n                />\r\n              ))}\r\n            </div>\r\n          {/* {blogs.map(b => (\r\n            <Favourite blogName={b} id={b._id}/>\r\n          ))} */}\r\n          </Tab.Pane>\r\n        </Tab.Content>\r\n      {/* </Col> */}\r\n    </Row>\r\n  </Tab.Container>\r\n)\r\n\r\nexport default ProfileBlogs;","import React, { Component } from \"react\";\r\nimport { Modal, Tooltip, OverlayTrigger, Tabs, Tab } from 'react-bootstrap';\r\nimport EditProfileForm from \"../containers/EditProfileForm\";\r\nimport ProfileBlogs from \"../components/ProfileBlogs\";\r\nimport { apiCall } from \"../services/api\";\r\n\r\nclass Profile extends Component {\r\n  constructor(props){\r\n    super(props)\r\n    this.state={\r\n      user: {},\r\n      isLoading: false,\r\n      show: false,\r\n      userFavourites:[]\r\n    }\r\n    this.handleShow = this.handleShow.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n    // this.goBlog = this.goBlog.bind(this);\r\n    // this.selectBlog = this.selectBlog.bind(this);\r\n  }\r\n  componentDidMount(){\r\n    this.loadUser();\r\n  }\r\n\r\n  handleClose() {\r\n    this.setState({ show: false });\r\n  }\r\n\r\n  handleShow() {\r\n    this.setState({ show: true });\r\n  }\r\n\r\n  async loadUser(){\r\n    console.log(\"LoadUser\");\r\n    let id = this.props.match.params.id;\r\n    let user = await apiCall(\"get\", `/api/users/${id}`)\r\n    .then(res => {\r\n      return res;\r\n    })\r\n    .catch(err => {\r\n      console.log(err)\r\n    });\r\n\r\n    let userFavourites = await apiCall(\"get\", `/api/favourites/${id}`);\r\n    \r\n    this.setState({user});\r\n    this.setState({userFavourites});\r\n    this.setState({isLoading: true});\r\n  }\r\n  updateProfile(user){\r\n    // this.setState({user});\r\n    console.log(\"Hello?\");\r\n    this.loadUser();\r\n  }\r\n  // Potential to refactor this to work as an action\r\n  goBlog(blogId){\r\n    // e.preventDefault();\r\n    console.log(\"triggar\");\r\n    console.log(blogId);\r\n    // this.setState({blogList: this.props.blogs})\r\n    this.props.history.push({\r\n      pathname:`/blog/${blogId}`,\r\n      state: {blogId: blogId}  \r\n    });\r\n  }\r\n\r\n  render(){\r\n    const { user, isLoading, userFavourites } = this.state;\r\n\r\n    const tooltip = (\r\n      <Tooltip>\r\n        {user.email}\r\n      </Tooltip>\r\n    )\r\n    return(\r\n      (isLoading)?\r\n      <div className=\"container profile-container\">\r\n        <div id=\"profile-layout\">\r\n          <div id=\"profile-information\">\r\n            <div id=\"profile-picture\" style={{backgroundImage: `url(${user.profileImageUrl})`}}></div>\r\n            <div id=\"profile-details\">\r\n              <div id=\"profile-name-and-edit\">\r\n                <div id=\"profile-username\">{user.username}</div>\r\n                {/* <div><i class=\"far fa-edit fa-2x\"></i></div> */}\r\n                {/* <Modal triggerText=\"Edit Profile\" mProps={editProfileProps} btnClass=\"c-btn\" btnText=\"Edit Profile\" /> */}\r\n                {/* <Button bsStyle=\"primary\" bsSize=\"large\" onClick={this.handleShow}>\r\n                  test modal\r\n                </Button> */}\r\n                <i className=\"far fa-edit fa-2x\" onClick={this.handleShow}></i>\r\n                <Modal bsSize=\"large\" show={this.state.show} onHide={this.handleClose}> \r\n                  <EditProfileForm\r\n                    userId={this.props.match.params.id}\r\n                    bio={user.bio}\r\n                    profileImageUrl={user.profileImageUrl}\r\n                    twitter={user.social.twitter}\r\n                    linkedin={user.social.linkedin}\r\n                    github={user.social.github}\r\n                    emailToggle={user.social.emailToggle}\r\n                    updateProfile={this.updateProfile.bind(this)}\r\n                    handleClose={this.handleClose}\r\n                  />\r\n                </Modal>\r\n              </div>\r\n              <div>\r\n                <div id=\"profile-bio-info\">{user.bio}</div>\r\n                <div id=\"profile-social\">\r\n                  {user.social.twitter.length > 1 && (\r\n                    <a href={`https://twitter.com/${user.social.twitter}`} ><i className=\"fab fa-twitter fa-2x\"></i></a>\r\n                  )}\r\n                  {user.social.linkedin.length > 1 && (\r\n                    <a href={`https://www.linkedin.com/in/${user.social.linkedin}`}><i className=\"fab fa-linkedin-in fa-2x\"></i></a>\r\n                  )}\r\n                  {user.social.github.length > 1 && (\r\n                    <a href={`https://github.com/${user.social.github}`}><i className=\"fab fa-github fa-2x\"></i></a>\r\n                  )}\r\n                  {user.social.emailToggle && (\r\n                    <OverlayTrigger placement=\"right\" overlay={tooltip}>\r\n                      <div>\r\n                        <i className=\"fas fa-envelope-square fa-2x\"></i>\r\n                      </div>\r\n                    </OverlayTrigger>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n          </div>\r\n          <div id=\"profile-blogs\">\r\n            <ProfileBlogs\r\n              blogs={user.blogs}\r\n              favourites={userFavourites}\r\n              goBlog={this.goBlog.bind(this)}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      : <div className=\"container\">\r\n        {/* Make this loading icon center of screen */}\r\n          <div id=\"loading-ring-container\">\r\n            <div className=\"lds-dual-ring\"></div>\r\n          </div>\r\n        </div>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nexport default Profile;","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { createNewBlog } from \"../store/actions/blogs\";\r\nimport { removeError } from \"../store/actions/errors\";\r\nimport { FormGroup, FormControl, Button } from \"react-bootstrap\";\r\n\r\nclass BlogForm extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      name:\"\",\r\n      desc:\"\",\r\n      image:\"\"\r\n    };\r\n  }\r\n\r\n  componentDidMount(){\r\n    // forced removal of errors on launch (otherwise if page was reloaded with an error on screen, same error would appear on open)\r\n    this.props.removeError(); \r\n  }\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    // this.props post new blog stuff\r\n    this.props\r\n      .createNewBlog(this.state.name, this.state.desc, this.state.image)\r\n      .then( () => {\r\n        this.setState({name:\"\",desc:\"\",image:\"\"})\r\n        this.props.history.push(\"/\");\r\n      })\r\n      .catch(() => {\r\n        return;\r\n      })\r\n    \r\n    //this.props.history.push(\"/\"); // Could go straight to new blog?\r\n  }\r\n  getValidationNameState() {\r\n    const length = this.state.name.length;\r\n    if (length > 100) return 'error';\r\n    return null;\r\n  }\r\n  getValidationDescState() {\r\n    const length = this.state.desc.length;\r\n    if (length > 200) return 'error';\r\n    return null;\r\n  }\r\n\r\n  render(){\r\n    const { errors } = this.props;\r\n    return(\r\n      <div className=\"container\">\r\n      <div className=\"form-header\">Create New Blog</div>\r\n        <hr/>\r\n        <form onSubmit={this.handleSubmit}>\r\n        {errors.message && (<div className=\"alert alert-danger\">{errors.message}</div>)}\r\n          <div className=\"input-section\">\r\n            <div className=\"input-section-text\">\r\n              <label className=\"input-section-text-title\" htmlFor=\"name\">Name</label>\r\n              <div className=\"input-section-text-extra\">Create a blog about anything! but make sure the name is relevant</div>\r\n            </div>\r\n            <div className=\"input-section-input\">\r\n              <FormGroup validationState={this.getValidationNameState()}>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  value={this.state.name}\r\n                  onChange={e => this.setState({name: e.target.value})}\r\n                />\r\n                <FormControl.Feedback/>\r\n              </FormGroup>\r\n            </div>\r\n          </div>\r\n          <hr/>\r\n          <div className=\"input-section\">\r\n            <div className=\"input-section-text\">\r\n              <label className=\"input-section-text-title\" htmlFor=\"image\">Image Url</label>\r\n              <div className=\"input-section-text-extra\">Use imgur.com for hosting your blog image. Leave input blank for the default background.</div>\r\n            </div>\r\n            <div className=\"input-section-input\">\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                value={this.state.image}\r\n                onChange={e => this.setState({image: e.target.value})}\r\n              />\r\n            </div>\r\n            \r\n          </div>\r\n          <hr/>\r\n          <div className=\"input-section\">\r\n            <div className=\"input-section-text\">\r\n              <label className=\"input-section-text-title\" htmlFor=\"desc\">Description</label>\r\n              <div className=\"input-section-text-extra\">Describe best your blog and what users should expect from your continued blog posts.</div>\r\n            </div>\r\n            <div className=\"input-section-input\">\r\n              <FormGroup validationState={this.getValidationDescState()}>\r\n                <textarea\r\n                  cols=\"30\"\r\n                  rows=\"5\"\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  value={this.state.desc}\r\n                  onChange={e => this.setState({desc: e.target.value})}\r\n                />\r\n                <FormControl.Feedback />\r\n              </FormGroup>\r\n            </div>\r\n          </div>\r\n          <hr/>\r\n          <Button type=\"submit\" className=\"btn btn-success pull-right form-button\">\r\n            Submit\r\n          </Button>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state){\r\n  return {\r\n    errors: state.errors\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, { createNewBlog, removeError })(BlogForm);","import React from 'react';\r\n\r\nconst BlogCardFront =({text, desc, image}) => (\r\n  <div className=\"blog-side side-front\"> \r\n    <div id=\"blog-card-image\" style={{backgroundImage: `url(${image})`}}>\r\n    </div>\r\n    <div id=\"blog-card-front-text\">{text}</div>\r\n  </div>\r\n)\r\n\r\nexport default BlogCardFront;","import React from 'react';\r\nimport { Tooltip, OverlayTrigger } from 'react-bootstrap';\r\n\r\n\r\nconst BlogCardBack =({desc, name, favToggle, favorite, profileImage, postCount, favCount}) => (\r\n  <div className=\"blog-side side-back\">\r\n    <div id=\"blog-back-desc\">\r\n      {desc}\r\n    </div>\r\n    <div id=\"blog-back-information\">\r\n      <div>\r\n        <OverlayTrigger placement=\"bottom\" overlay={<Tooltip>{name}</Tooltip>} delayShow={300} >\r\n          <div id=\"blog-back-profile-image\" style={{backgroundImage: `url(${profileImage})`}}></div>\r\n        </OverlayTrigger>\r\n      </div>\r\n      <div className=\"blog-back-icons\">\r\n        <i class=\"far fa-newspaper fa-2x\"/>\r\n        <div className=\"blog-back-icons-text\">{postCount}</div>\r\n      </div>\r\n      <div className=\"blog-back-icons\" onClick={favToggle} >\r\n        <i className=\"fas fa-heart fa-2x\" style={favorite}/>\r\n        <div className=\"blog-back-icons-text\">{favCount}</div>\r\n      </div>\r\n    </div> \r\n  </div>\r\n)\r\n\r\nexport default BlogCardBack;","import React from \"react\";\r\nimport BlogCardFront from \"./BlogCardFront\";\r\nimport BlogCardBack from \"./BlogCardBack\";\r\n\r\n// style={{backgroundImage: `url(${image})`}}\r\n\r\nconst BlogItem =({flippedProps, text, desc, image, username, favorite, profileImage, postCount, favCount, date, isCorrectUser, favToggle, selectBlog, removeBlog, ref}) => (\r\n  <div onClick={selectBlog} className=\"blogCard\" ref={ref} {...flippedProps}>\r\n    <div className=\"blogBody\">\r\n      <BlogCardFront \r\n        text={text}\r\n        image={image}\r\n      />\r\n      <BlogCardBack\r\n        desc={desc}\r\n        name={username}\r\n        profileImage={profileImage}\r\n        favToggle={favToggle}\r\n        favorite={favorite}\r\n        postCount={postCount}\r\n        favCount={favCount}\r\n      />\r\n     </div>\r\n  </div>\r\n)\r\n\r\nexport default BlogItem;","import React from 'react';\r\nconst Loading = () => (\r\n  <div className=\"container\">\r\n    <div id=\"loading-ring-container\">\r\n      <div className=\"lds-dual-ring\"></div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default Loading;","import React from \"react\";\r\n\r\nconst NoResult = () => (\r\n  <div className=\"container\">\r\n    <div id=\"blog-list-empty\">\r\n      <div>No search results!</div>\r\n    </div>\r\n  </div>\r\n)\r\n\r\nexport default NoResult;","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport BlogItem from \"../components/BlogItem\";\r\nimport Loading from \"../components/Loading\";\r\nimport NoResult from \"../components/NoResult\";\r\nimport { fetchBlogs, deleteBlog } from \"../store/actions/blogs\";\r\nimport { favoriteBlog } from \"../store/actions/auth\";\r\nimport { fetchPosts } from \"../store/actions/posts\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { Flipper, Flipped } from 'react-flip-toolkit';\r\nimport shuffle from \"lodash.shuffle\";\r\nimport Icon from \"../components/icons/StarFull\";\r\nimport qs from \"qs\";\r\n\r\nconst defaultState = {\r\n  filter: \"\"\r\n}\r\n\r\nclass BlogList extends Component {\r\n\r\n  constructor(props){\r\n    super(props);\r\n    this.state={\r\n      blogList: [],\r\n      favourites: []\r\n    }\r\n  }\r\n  componentDidMount(){\r\n    // Fetch blogs\r\n    //debugger;\r\n    this.props.fetchPosts();\r\n    this.props.fetchBlogs();\r\n    // let favourites\r\n    // this.props.fetchFavorites();  \r\n  }\r\n\r\n  updateQueryParam = obj => {\r\n    this.props.history.push({\r\n      search: `?${qs.stringify({\r\n        ...qs.parse(this.props.location.search.replace(\"?\", \"\")),\r\n        ...obj\r\n      })}`\r\n    })\r\n  }\r\n\r\n  // Potential to refactor this to work as an action\r\n  selectBlog(id, e){\r\n    e.preventDefault();\r\n    // this.setState({blogList: this.props.blogs})\r\n    this.props.history.push({\r\n      pathname:`/blog/${id}`,\r\n      state: {id: id}  \r\n    });\r\n  }\r\n  async favoriteBlog(id, e){\r\n    e.stopPropagation();\r\n    console.log(\"boo\");\r\n    await this.props.favoriteBlog(id);\r\n    await this.props.fetchBlogs();\r\n  }\r\n  \r\n  render(){\r\n    const { blogs, currentUser, favorites, showFavourites } = this.props;\r\n    // const { fadedHeart, pinkHeart } = styles;\r\n    const fadedHeart = { opacity: \"0.25\",color:\"black\"}\r\n    const fullHeart = { opacity: \"0.85\",color:\"black\"}\r\n    const queryParamState = {\r\n      ...defaultState,\r\n      ...qs.parse(this.props.location.search.replace(\"?\", \"\"))\r\n    }\r\n    let favList\r\n    if(showFavourites){\r\n      favList = (blogs).filter(({_id}) => favorites.includes(_id));\r\n    } else {\r\n      favList = (blogs)\r\n    }\r\n    // console.log(favorites);\r\n    // console.log()\r\n\r\n    // const blogList = (favList)\r\n    //   .filter(({blogName}) => blogName.includes(queryParamState.filter));\r\n\r\n    const blogList = (favList)\r\n      .filter(({blogName}) => blogName.toLowerCase().includes(queryParamState.filter));\r\n\r\n      // console.log(this.props.currentUser);\r\n      // console.log(this.props.history.location);\r\n      \r\n    return(\r\n      (typeof blogs!=='undefined')?\r\n        <div>\r\n          <Flipper flipKey={blogList}>\r\n            {blogList.length === 0 ? (\r\n              <NoResult/>\r\n            ) : (\r\n              <div id=\"blogs\">\r\n                {blogList.map(b => (\r\n                  \r\n                  <Flipped key={b._id} flipId={b._id}>\r\n                  {flippedProps =>\r\n                    <BlogItem\r\n                      key={b._id}\r\n                      date={b.createAt}\r\n                      text={b.blogName}\r\n                      desc={b.blogDescription}\r\n                      image={b.blogImage}\r\n                      username={b.user.username}\r\n                      postCount={b.posts.length}\r\n                      favCount={b.favorites.length}\r\n                      profileImage={b.user.profileImageUrl}\r\n                      favToggle={this.favoriteBlog.bind(this, b._id)}\r\n                      selectBlog={this.selectBlog.bind(this, b._id)}\r\n                      favorite={favorites.includes(b._id) ? fullHeart : fadedHeart}\r\n                      isCorrectUser={currentUser.id === b.user._id}\r\n                      flippedProps={flippedProps}\r\n                      navigate={this.navigate}\r\n                    />\r\n                  }\r\n                    </Flipped>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </Flipper>\r\n        </div>\r\n        : <Loading/>\r\n      \r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state){\r\n  return {\r\n    blogs: state.blogs|| [],\r\n    currentUser: state.currentUser.user,\r\n    favorites: state.currentUser.user.favorites || [],\r\n    showFavourites: state.currentUser.showFavorites\r\n  };\r\n}\r\n\r\n\r\nexport default withRouter(connect(mapStateToProps, { fetchBlogs, deleteBlog, fetchPosts, favoriteBlog })(BlogList));","import React from 'react';\r\n\r\nconst AboutMe = () => (\r\n  // <div>about me</div>\r\n\r\n<div className=\"container\">\r\n\t<div>About Me</div>\r\n</div>\r\n\r\n\r\n\r\n);\r\n\r\nexport default AboutMe;","import React from \"react\";\r\nimport { Switch, Route, withRouter } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { authUser } from \"../store/actions/auth\";\r\nimport { removeError } from \"../store/actions/errors\";\r\nimport AuthForm from \"../components/AuthForm\";\r\nimport Homepage from \"../components/Homepage\";\r\nimport Blog from \"../components/Blog\";\r\nimport Profile from \"../components/Profile\";\r\nimport BlogForm from \"./BlogForm\";\r\nimport BlogList from \"./BlogList\";\r\nimport AboutMe from \"../components/AboutMe\";\r\n\r\nconst Main = props => {\r\n  const { currentUser, authUser, errors, removeError, location } = props;\r\n  console.log(currentUser);\r\n  return (\r\n    <div className=\"Site-content\">\r\n      <section className=\"route-section\">\r\n        <Switch location={location}>\r\n          <Route exact path=\"/\" render={props => <Homepage currentUser={currentUser} {...props}/>}/>\r\n          <Route exact path=\"/blogs\" component={BlogList} />\r\n          <Route exact path=\"/signin\" render={props => {\r\n            return(\r\n              <AuthForm\r\n                removeError={removeError}\r\n                errors={errors}\r\n                onAuth={authUser}\r\n                buttonText=\"Log in\"\r\n                heading=\"Please log in to continue\"\r\n                {...props}\r\n              />\r\n            );\r\n          }}/>\r\n          <Route exact path=\"/signup\" render={props => {\r\n            return(\r\n              <AuthForm\r\n                removeError={removeError}\r\n                errors={errors}\r\n                onAuth={authUser}\r\n                buttonText=\"Sign me up!\"\r\n                heading=\"Join Blog@ today!\"\r\n                signUp\r\n                {...props}\r\n              />\r\n            );\r\n          }}/>\r\n          <Route path=\"/users/:userId/blog/new\" component={(BlogForm)}/>\r\n          <Route path=\"/blog/:id\" component={(Blog)}/>\r\n          <Route path=\"/user/:id\" component={(Profile)}/>\r\n          <Route path=\"/aboutme\" component={(AboutMe)}/>\r\n        </Switch>\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction mapStateToProps(state){\r\n  return{\r\n    currentUser: state.currentUser,\r\n    errors: state.errors\r\n  };\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, { authUser, removeError})(Main));","import React from 'react';\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Footer = () => (\r\n  <footer id=\"footer\">\r\n    <div id=\"footer-flex\">\r\n      <div id=\"footer-copyright\">© 2018-2019 Lewis Shaw. All rights reserved.</div>\r\n      <Link to=\"/aboutme\">\r\n        <div>About</div>\r\n      </Link>\r\n    </div>\r\n  </footer>\r\n)\r\n\r\nexport default Footer;","import React, { Component } from 'react';\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nclass ScrollToTop extends Component {\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.location.pathname !== prevProps.location.pathname) {\r\n      window.scrollTo(0,0);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\nexport default withRouter(ScrollToTop);","import React from \"react\";\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport { configureStore } from \"../store\";\r\nimport Navbar from \"./Navbar\";\r\nimport Main from \"./Main\";\r\nimport Footer from \"../components/Footer\";\r\nimport { setAuthorizationToken, setCurrentUser } from \"../store/actions/auth\";\r\nimport jwtDecode from \"jwt-decode\";\r\nimport { persistStore } from \"redux-persist\";\r\nimport { PersistGate } from 'redux-persist/lib/integration/react';\r\nimport ScrollToTop from \"../hocs/ScrollToTop\";\r\n\r\n\r\n\r\nconst store = configureStore();\r\nconst persistor = persistStore(store);\r\n\r\nif(localStorage.jwtToken){\r\n  setAuthorizationToken(localStorage.jwtToken);\r\n  try {\r\n    store.dispatch(setCurrentUser(jwtDecode(localStorage.jwtToken)));\r\n  } catch (e) {\r\n    store.dispatch(setCurrentUser({}));\r\n  }\r\n}\r\n\r\nconst App = () => (\r\n  <Provider store={store}>\r\n    {/* <PersistGate loading={null} persistor={persistor}> */}\r\n      <Router>\r\n        <ScrollToTop>\r\n          <div className=\"Site\">\r\n            <Navbar/>\r\n            <Main/>\r\n            <Footer/>\r\n          </div> \r\n        </ScrollToTop>\r\n      </Router>\r\n    {/* </PersistGate> */}\r\n  </Provider>\r\n);\r\n\r\nexport default App;","// In production, we register a service worker to serve assets from local cache.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport default function register() {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Lets check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not local host. Just register service worker\r\n        registerValidSW(swUrl);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the old content will have been purged and\r\n              // the fresh content will have been added to the cache.\r\n              // It's the perfect time to display a \"New content is\r\n              // available; please refresh.\" message in your web app.\r\n              console.log('New content is available; please refresh.');\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      if (\r\n        response.status === 404 ||\r\n        response.headers.get('content-type').indexOf('javascript') === -1\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './containers/App';\r\nimport registerServiceWorker from './registerServiceWorker';\r\n\r\nReactDOM.render(<App/>, document.getElementById('root'));\r\nregisterServiceWorker();\r\n"],"sourceRoot":""}